(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["Swap"],{"0bb0":function(e,t,i){"use strict";i("1c65")},"192e":function(e,t,i){},"193a":function(e,t,i){"use strict";i("a5ca")},"1c65":function(e,t,i){},2232:function(e,t,i){"use strict";i("876e")},24500:function(e,t,i){},"284e":function(e,t,i){},"35e3":function(e,t,i){"use strict";i.r(t);i("b0c0"),i("a9e3"),i("ac1f"),i("1276"),i("fb6a"),i("99af");var o=i("7a23"),n=i("e524"),a=i.n(n),l=i("965b"),s=i.n(l),c=function(e){return Object(o["pushScopeId"])("data-v-1fba98e8"),e=e(),Object(o["popScopeId"])(),e},r={class:"swap-content"},d={class:"swap-content_left",ref:"swapLeft"},u=["onClick"],m={class:"select-c"},p={key:0,class:"notice-container"},b={class:"card-container"},h={class:"card-container_top flex justify-between items-center"},f=c((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),v={class:"s-text"},g={class:"flex justify-between items-center mt-20"},O=c((function(){return Object(o["createElementVNode"])("div",{style:{height:"0.12rem"}},null,-1)})),k={class:"card-container"},j={class:"card-container_top flex justify-between items-center"},w=c((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),y={class:"s-text"},S={class:"flex justify-between items-center mt-20"},T={key:0},N={key:1},V={key:0,style:{"font-size":"0.24rem"}},$={key:0,style:{"font-size":"0.24rem",color:"#f8be46",margin:"0.1rem 0"}},_={key:1,style:{"font-size":"0.24rem",color:"#F81111",margin:"0.1rem 0"}},E={key:2,style:{"font-size":"0.24rem",color:"#f8be46",margin:"0.1rem 0"}},x={class:"card-container"},B={class:"card-container_top flex justify-between items-center"},C=c((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),A={class:"s-text"},I={class:"flex justify-between items-center mt-20"},D=c((function(){return Object(o["createElementVNode"])("div",{style:{height:"0.12rem"}},null,-1)})),L={class:"card-container"},P={class:"card-container_top flex justify-between items-center"},F=c((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),U={class:"s-text"},M={class:"flex justify-between items-center mt-20"},R={key:0,class:"limit-price-label"},G={key:1,class:"card-container flex justify-between items-center"},z=["disabled"],W=["disabled"],Q={class:"limit-price-label mt-10"},q={class:"card-container flex justify-between items-center"},H=["disabled"],J=["disabled"],Y=c((function(){return Object(o["createElementVNode"])("div",{class:"swap-content_center"},null,-1)})),K={class:"right-section-1"},X=Object(o["createTextVNode"])("+"),Z={class:"right-section-2"},ee=Object(o["createTextVNode"])("LP"),te={key:0,class:"swap-label"},ie={class:"swap-label_item-left"},oe={key:1,style:{display:"flex","align-items":"center"}},ne={style:{"margin-right":"0.1rem"}},ae={class:"swap-label_item-left"},le={style:{display:"flex","align-items":"center"}},se={class:"swap-label_item-left"},ce={class:"swap-label_item-left"},re={key:0},de={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},ue={key:1},me={key:1},pe={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},be={key:1},he={key:0},fe={key:1,class:"path-amm"},ve=c((function(){return Object(o["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},null,-1)})),ge={key:0,class:"select-token iconfont icon-collapse-down"},Oe={key:0},ke={class:"swap-label_item-left"},je={class:"flex items-center"},we={key:1,class:"swap-label"},ye={class:"swap-label_item-left"},Se={key:0,style:{display:"flex","align-items":"center"}},Te={style:{"margin-right":"0.1rem"}},Ne={key:1,style:{display:"flex","align-items":"center"}},Ve={style:{"margin-right":"0.1rem"}},$e={key:0},_e={class:"swap-label_item-left"},Ee={style:{display:"flex","align-items":"center"}},xe={class:"section-bottom"},Be={class:"title"},Ce=c((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),Ae={key:0,style:{"background-color":"#fff"}},Ie={key:1,style:{"background-color":"#fff"}},De={key:2,style:{"background-color":"#fff"}},Le={class:"footer-container"},Pe=c((function(){return Object(o["createElementVNode"])("img",{src:s.a,alt:"",srcset:""},null,-1)})),Fe={style:{background:"#fff","padding-bottom":"1rem"}},Ue={class:"token-item header"},Me={class:"flex-2"},Re={class:"flex-1"},Ge={class:"flex-1 right-label"},ze=c((function(){return Object(o["createElementVNode"])("span",{style:{width:"0.32rem"}},null,-1)})),We=["onClick"],Qe={class:"path-list flex-start flex-2"},qe={key:0},He={key:1,class:"path-amm"},Je=c((function(){return Object(o["createElementVNode"])("img",{style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},null,-1)})),Ye={key:0,class:"tag"},Ke={class:"flex-1"},Xe=Object(o["createTextVNode"])(" <0.01% "),Ze=Object(o["createTextVNode"])(" >40% ");function et(e,t,n,a,l,s){var c,et,tt,it,ot,nt,at,lt,st,ct,rt,dt,ut,mt,pt,bt,ht,ft,vt,gt,Ot,kt,jt,wt,yt,St,Tt,Nt,Vt,$t,_t,Et,xt,Bt,Ct,At=this,It=Object(o["resolveComponent"])("RebateImg"),Dt=Object(o["resolveComponent"])("van-count-down"),Lt=Object(o["resolveComponent"])("v-select"),Pt=Object(o["resolveComponent"])("van-button"),Ft=Object(o["resolveComponent"])("SwapSelectToken"),Ut=Object(o["resolveComponent"])("van-field"),Mt=Object(o["resolveComponent"])("PercentStep"),Rt=Object(o["resolveComponent"])("van-form"),Gt=Object(o["resolveComponent"])("van-icon"),zt=Object(o["resolveComponent"])("PriceChart"),Wt=Object(o["resolveComponent"])("SwapModeSet"),Qt=Object(o["resolveComponent"])("SlippageButton"),qt=Object(o["resolveComponent"])("van-image"),Ht=Object(o["resolveComponent"])("SwapGasSet"),Jt=Object(o["resolveComponent"])("van-tab"),Yt=Object(o["resolveComponent"])("van-tabs"),Kt=Object(o["resolveComponent"])("van-checkbox"),Xt=Object(o["resolveComponent"])("van-loading"),Zt=Object(o["resolveComponent"])("TxItem"),ei=Object(o["resolveComponent"])("DynamicScrollerItem"),ti=Object(o["resolveComponent"])("DynamicScroller"),ii=Object(o["resolveComponent"])("van-empty"),oi=Object(o["resolveComponent"])("LimitTxItem"),ni=Object(o["resolveComponent"])("NoGasTxItem"),ai=Object(o["resolveComponent"])("confirm-swap"),li=Object(o["resolveComponent"])("confirm-limit"),si=Object(o["resolveComponent"])("van-action-sheet"),ci=Object(o["resolveDirective"])("animation-trigger");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[Object(o["createElementVNode"])("section",{class:"swap-container",style:Object(o["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3]})},[Object(o["createVNode"])(It,{style:{"padding-left":"0.28rem","padding-right":"0.28rem"}}),Object(o["createVNode"])(Dt,{style:{position:"absolute",opacity:"0",height:"0"},ref:"countDown",class:"icon-countDown",time:15e4,format:"sss",onFinish:s.onCountDownFinish},{default:Object(o["withCtx"])((function(e){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.seconds)+"s ",1)]})),_:1},8,["onFinish"]),Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",{class:"tabs-triangle",style:Object(o["normalizeStyle"])({"--upColor":e.$store.getters.upColor[3],"--downColor":e.$store.getters.downColor[3]})},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(s.typeTabs,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:t,class:Object(o["normalizeClass"])(["tab-item",{active:l.activeTab===e.type,up:0===l.activeTab,down:1===l.activeTab}]),onClick:Object(o["withModifiers"])((function(t){return s.switchTab(e.type)}),["stop"])},Object(o["toDisplayString"])(e.name),11,u)})),128))],4),Object(o["createElementVNode"])("div",m,[Object(o["createVNode"])(Lt,{modelValue:l.selected,"onUpdate:modelValue":t[0]||(t[0]=function(e){return l.selected=e}),options:s.types,reduce:function(e){return e.value},label:"name",clearable:!1,searchable:!1},null,8,["modelValue","options","reduce"])]),"solana"===s.chain&&Number(s.wSOLBalance)>0&&s.wSOLAccount.pubkey?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",p,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("youHave"))+" "+Object(o["toDisplayString"])(e.$f.formatNumber2(s.wSOLBalance))+" wSOL,",1),Object(o["createVNode"])(Pt,{loading:l.loadingUnwrap,loadingText:e.$t("unwrap"),type:"primary",style:{"--van-button-mini-padding":"0","--van-button-default-line-height":"1","--van-button-border-width":"0"},plain:"",size:"mini",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){return s.unwrapSol(s.wSOLAccount.pubkey)}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("unwrap")),1)]})),_:1},8,["loading","loadingText"])])):Object(o["createCommentVNode"])("",!0),2===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createVNode"])(Rt,{class:"swap-form",onSubmit:s.onSubmit,style:{"--van-cell-horizontal-padding":"0","--van-cell-vertical-padding":"0"}},{default:Object(o["withCtx"])((function(){var i,n,a,c,r,d,u,m,p,$,_,E;return[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",h,[Object(o["createVNode"])(Ft,{tokens:s.swapTokens,token:l.token1,"onUpdate:token":[t[2]||(t[2]=function(e){return l.token1=e}),s.handleSelectToken1],chain:e.$store.getters.netId||(null===(i=e.$route.params)||void 0===i||null===(n=i.id)||void 0===n||null===(a=n.split)||void 0===a||null===(c=a.call(n,"-"))||void 0===c?void 0:c[1])||l.token1.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),f,Object(o["createElementVNode"])("div",v,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(r=l.token1)||void 0===r?void 0:r.balance)||0)),1),1===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[3]||(t[3]=Object(o["withModifiers"])((function(e){return s.handlePercentChange(100)}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",g,[0===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Ut,{key:0,modelValue:l.toAmount,"onUpdate:modelValue":[t[4]||(t[4]=function(e){return l.toAmount=e}),s.watchToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[5]||(t[5]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(o["createCommentVNode"])("",!0),1===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Ut,{key:1,modelValue:l.fromAmount,"onUpdate:modelValue":[t[6]||(t[6]=function(e){return l.fromAmount=e}),s.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[7]||(t[7]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(o["createCommentVNode"])("",!0)])]),O,Object(o["createElementVNode"])("div",k,[Object(o["createElementVNode"])("div",j,[Object(o["createVNode"])(Ft,{tokens:s.swapTokens,token:l.token2,"onUpdate:token":[t[8]||(t[8]=function(e){return l.token2=e}),s.handleSelectToken2],chain:e.$store.getters.netId||(null===(d=e.$route.params)||void 0===d||null===(u=d.id)||void 0===u||null===(m=u.split)||void 0===m||null===(p=m.call(u,"-"))||void 0===p?void 0:p[1])||l.token2.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),w,Object(o["createElementVNode"])("div",y,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===($=l.token2)||void 0===$?void 0:$.balance)||0)),1),0===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[9]||(t[9]=Object(o["withModifiers"])((function(e){return s.handlePercentChange(100)}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",S,[1===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Ut,{key:0,modelValue:l.toAmount,"onUpdate:modelValue":[t[10]||(t[10]=function(e){return l.toAmount=e}),s.watchToAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[11]||(t[11]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(o["createCommentVNode"])("",!0),0===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Ut,{key:1,modelValue:l.fromAmount,"onUpdate:modelValue":[t[12]||(t[12]=function(e){return l.fromAmount=e}),s.watchFromAmount],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[13]||(t[13]=function(t){return e.$refs.percentStep.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])):Object(o["createCommentVNode"])("",!0)])]),Object(o["createVNode"])(Mt,{ref:"percentStep",onChange:s.handlePercentChange,activeColor:0===l.activeTab?e.$store.getters.upColor[3]:e.$store.getters.downColor[3]},null,8,["onChange","activeColor"]),!s.isApprove||l.loadingAllowance?(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:0,class:"submit-btn",block:"",color:s.swapButtonColor,"native-type":"submit","loading-text":l.loadingAllowance?e.$t("checkingAllowance"):l.quoteLoading?e.$t("quoting"):l.loadingApprove?e.$t("approve"):"",loading:l.loadingApprove||l.loadingSwap||l.loadingAllowance,disabled:Number(s.fromToken.balance)<Number(At.fromAmount)},{default:Object(o["withCtx"])((function(){var t,i;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(0===Number(s.fromToken.balance)||Number(s.fromToken.balance)<Number(At.fromAmount)||""===e.$store.state.currentAccount?null!==(t=s.priceImpactV)&&void 0!==t&&null!==(i=t.gt)&&void 0!==i&&i.call(t,.4)?e.$t("priceImpactTooHigh"):s.checkAmountMessage()||e.$t("approve"):e.$t("approve")),1)]})),_:1},8,["color","loading-text","loading","disabled"])):(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:1,class:"submit-btn",block:"",loading:l.loadingSwap||l.quoteLoading||l.loadingAllowance,"loading-text":l.loadingSwap?0===l.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:s.swapButtonColor,disabled:(null===(_=s.priceImpactV)||void 0===_||null===(E=_.gt)||void 0===E?void 0:E.call(_,.4))||!s.checkAmount()||!l.fromAmount||!l.toAmount,"native-type":"submit"},{default:Object(o["withCtx"])((function(){var t,i,n,a,c;return[0===Number(s.fromToken.balance)||Number(s.fromToken.balance)<Number(At.fromAmount)||""===e.$store.state.currentAccount?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",T,Object(o["toDisplayString"])(s.checkAmountMessage()),1)):null!==(t=s.priceImpactV)&&void 0!==t&&null!==(i=t.gt)&&void 0!==i&&i.call(t,.4)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",N,Object(o["toDisplayString"])(e.$t("priceImpactTooHigh")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(null!==(n=s.priceImpactV)&&void 0!==n&&null!==(a=n.gt)&&void 0!==a&&a.call(n,.1)?0===l.activeTab?e.$t("buyAnyway"):e.$t("sellAnyway"):0===l.activeTab?e.$t("buy"):e.$t("sell"))+" "+Object(o["toDisplayString"])((null===(c=l.token1)||void 0===c?void 0:c.symbol)||""),1),s.taxStr?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",V,Object(o["toDisplayString"])(s.taxStr),1)):Object(o["createCommentVNode"])("",!0)],64))]})),_:1},8,["loading","loading-text","color","disabled"]))]})),_:1},8,["onSubmit"]),l.isTaxHigh?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",$,Object(o["toDisplayString"])(e.$t("taxTooHigh")),1)):Object(o["createCommentVNode"])("",!0),l.isCannotSellAll?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",_,Object(o["toDisplayString"])(e.$t("cannotSellAll")),1)):Object(o["createCommentVNode"])("",!0),l.isHotToken?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",E,Object(o["toDisplayString"])(e.$t("hotTokenTips")),1)):Object(o["createCommentVNode"])("",!0)],64)):Object(o["createCommentVNode"])("",!0),0===l.selected||1===this.selected||3===this.selected?(Object(o["openBlock"])(),Object(o["createBlock"])(Rt,{key:2,class:"swap-form",onSubmit:s.onLimitSubmit,style:{"--van-cell-horizontal-padding":"0","--van-cell-vertical-padding":"0"}},{default:Object(o["withCtx"])((function(){var i,n,a,c,r,d,u,m,p,b;return[Object(o["createElementVNode"])("div",x,[Object(o["createElementVNode"])("div",B,[Object(o["createVNode"])(Ft,{tokens:s.swapTokens,token:l.limitToken1,"onUpdate:token":[t[14]||(t[14]=function(e){return l.limitToken1=e}),s.handleSelectLimitToken1],chain:e.$store.getters.netId||(null===(i=e.$route.params)||void 0===i||null===(n=i.id)||void 0===n||null===(a=n.split)||void 0===a||null===(c=a.call(n,"-"))||void 0===c?void 0:c[1])||l.limitToken1.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),C,Object(o["createElementVNode"])("div",A,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(r=l.limitToken1)||void 0===r?void 0:r.balance)||0)),1),1===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[15]||(t[15]=Object(o["withModifiers"])((function(e){return s.handlePercentChange1(100)}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",I,[Object(o["createVNode"])(Ut,{modelValue:l.limitAmount1,"onUpdate:modelValue":[t[16]||(t[16]=function(e){return l.limitAmount1=e}),s.watchLimitAmount1],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[17]||(t[17]=function(t){return e.$refs.percentStep1.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])])]),D,Object(o["createElementVNode"])("div",L,[Object(o["createElementVNode"])("div",P,[Object(o["createVNode"])(Ft,{tokens:s.swapTokens,token:l.limitToken2,"onUpdate:token":[t[18]||(t[18]=function(e){return l.limitToken2=e}),s.handleSelectLimitToken2],chain:e.$store.getters.netId||(null===(d=e.$route.params)||void 0===d||null===(u=d.id)||void 0===u||null===(m=u.split)||void 0===m||null===(p=m.call(u,"-"))||void 0===p?void 0:p[1])||l.limitToken2.chain||""},null,8,["tokens","token","chain","onUpdate:token"]),F,Object(o["createElementVNode"])("div",U,Object(o["toDisplayString"])(e.$t("balance"))+": "+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(b=l.limitToken2)||void 0===b?void 0:b.balance)||0)),1),0===l.activeTab?(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:0,plain:"",type:"primary",color:"#999",round:"",size:"mini",class:"max-btn",onClick:t[19]||(t[19]=Object(o["withModifiers"])((function(e){return s.handlePercentChange1(100)}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("max")),1)]})),_:1})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",M,[Object(o["createVNode"])(Ut,{modelValue:l.limitAmount2,"onUpdate:modelValue":[t[20]||(t[20]=function(e){return l.limitAmount2=e}),s.watchLimitAmount2],placeholder:"0.0",type:"number","input-align":"right",clearable:"",class:"input-number",onFocus:t[21]||(t[21]=function(t){return e.$refs.percentStep1.handleClick(0,!0)})},null,8,["modelValue","onUpdate:modelValue"])])]),Object(o["createVNode"])(Mt,{ref:"percentStep1",onChange:s.handlePercentChange1,activeColor:s.limitButtonColor},null,8,["onChange","activeColor"]),1===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",R,Object(o["toDisplayString"])(e.$t("triggerPrice"))+"("+Object(o["toDisplayString"])(l.limitToken1.symbol||"")+")",1)):Object(o["createCommentVNode"])("",!0),1===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",G,[Object(o["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[22]||(t[22]=Object(o["withModifiers"])((function(){return s.minusTriggerPrice&&s.minusTriggerPrice.apply(s,arguments)}),["stop"])),disabled:!l.triggerPrice},[Object(o["createVNode"])(Gt,{name:"minus"})],8,z),Object(o["createVNode"])(Ut,{modelValue:l.triggerPrice,"onUpdate:modelValue":t[23]||(t[23]=function(e){return l.triggerPrice=e}),placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue"]),Object(o["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[24]||(t[24]=Object(o["withModifiers"])((function(){return s.addTriggerPrice&&s.addTriggerPrice.apply(s,arguments)}),["stop"])),disabled:!l.triggerPrice},[Object(o["createVNode"])(Gt,{name:"plus"})],8,W)])):Object(o["createCommentVNode"])("",!0),1===l.selected||0===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Object(o["createElementVNode"])("div",Q,Object(o["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(o["toDisplayString"])(l.limitToken1.symbol||"")+")",1),Object(o["createElementVNode"])("div",q,[Object(o["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[25]||(t[25]=Object(o["withModifiers"])((function(){return s.minusLimitPrice&&s.minusLimitPrice.apply(s,arguments)}),["stop"])),disabled:!l.limitPrice},[Object(o["createVNode"])(Gt,{name:"minus"})],8,H),Object(o["createVNode"])(Ut,{modelValue:l.limitPrice,"onUpdate:modelValue":[t[26]||(t[26]=function(e){return l.limitPrice=e}),s.watchLimitPrice],placeholder:"0.0",label:"$",type:"number","input-align":"left","label-align":"right","label-width":"0.2rem",clearable:"",class:"input-number",border:!1,style:{"--van-field-label-margin-right":"0.1rem"}},null,8,["modelValue","onUpdate:modelValue"]),Object(o["createElementVNode"])("button",{class:"limit-price-icon",type:"button",onClick:t[27]||(t[27]=Object(o["withModifiers"])((function(){return s.addLimitPrice&&s.addLimitPrice.apply(s,arguments)}),["stop"])),disabled:!l.limitPrice},[Object(o["createVNode"])(Gt,{name:"plus"})],8,J)])],64)):Object(o["createCommentVNode"])("",!0),s.isLimitApprove&&!l.loadingLimitAllowance||3===l.selected?(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:4,class:"submit-btn",block:"",loading:l.loadingLimit||l.limitQuoteLoading,"loading-text":l.limitQuoteLoading?e.$t("quoting"):l.loadingLimit?0===l.activeTab?e.$t("buying"):e.$t("selling"):e.$t("quoting"),color:s.limitButtonColor,disabled:!s.checkLimitAmount()||!l.limitAmount1||!l.limitAmount2||l.loadingLimitAllowance,"native-type":"submit"},{default:Object(o["withCtx"])((function(){var t;return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(s.checkLimitAmountMessage()||(0===l.activeTab?e.$t("buy"):e.$t("sell"))+" "+((null===(t=l.limitToken1)||void 0===t?void 0:t.symbol)||"")),1)]})),_:1},8,["loading","loading-text","color","disabled"])):(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:3,class:"submit-btn",block:"",color:s.limitButtonColor,"native-type":"submit","loading-text":l.loadingLimitAllowance?e.$t("checkingAllowance"):l.quoteLimitLoading?e.$t("quoting"):l.loadingLimitApprove?e.$t("approve"):"",disabled:!s.checkLimitAmount(),loading:l.loadingLimitApprove||l.loadingLimit||l.loadingLimitAllowance},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(s.checkLimitAmountMessage()||e.$t("approve")),1)]})),_:1},8,["color","loading-text","disabled","loading"]))]})),_:1},8,["onSubmit"])):Object(o["createCommentVNode"])("",!0)],512),Y,Object(o["createElementVNode"])("div",{class:"swap-content_right",style:Object(o["normalizeStyle"])({"max-height":l.height/50+"rem"})},[Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("div",K,[Object(o["createElementVNode"])("div",null," $"+Object(o["toDisplayString"])(e.$f.formatNumber2((null===(c=l.baseToken)||void 0===c||null===(et=c.token)||void 0===et?void 0:et.current_price_usd)||0)),1),Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])({color:(null===(tt=l.baseToken)||void 0===tt||null===(it=tt.token)||void 0===it?void 0:it.price_change)<0?"var(--downColor)":"var(--upColor)"})},[(null===(ot=l.baseToken)||void 0===ot||null===(nt=ot.token)||void 0===nt?void 0:nt.price_change)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[X],64)):Object(o["createCommentVNode"])("",!0),Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2((null===(at=l.baseToken)||void 0===at||null===(lt=at.token)||void 0===lt?void 0:lt.price_change)||0,2))+"% ",1)],4)])),[[ci,null===(st=l.baseToken)||void 0===st||null===(ct=st.token)||void 0===ct?void 0:ct.current_price_usd,"animation-bg"]]),Object(o["createVNode"])(zt,{dataX:l.dataX,dataY:l.dataY},null,8,["dataX","dataY"]),Object(o["createElementVNode"])("table",Z,[Object(o["createElementVNode"])("tr",null,[Object(o["createElementVNode"])("th",null,Object(o["toDisplayString"])(e.$t("pool1")),1),Object(o["createElementVNode"])("th",null,[s.tokenInfo.token&&s.tokenInfo.chain&&l.openLp&&s.isShow?(Object(o["openBlock"])(),Object(o["createBlock"])(Pt,{key:0,icon:"plus",type:"primary",plain:"",size:"small",style:{"--van-padding-base":"0","min-width":"0.8rem",height:"0.4rem"},onClick:Object(o["withModifiers"])(s.goLiquidity,["stop"])},{default:Object(o["withCtx"])((function(){return[ee]})),_:1},8,["onClick"])):Object(o["createCommentVNode"])("",!0)])]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(null===(rt=l.baseToken)||void 0===rt||null===(dt=rt.pairs)||void 0===dt?void 0:dt.slice(0,2),(function(t,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:i},[Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.target_token===t.token0_address?t.token0_symbol:t.token1_symbol),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.target_token===t.token0_address?t.token1_symbol:t.token0_symbol),1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve0:t.reserve1)),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve1:t.reserve0)),1)])])),[[ci,t.target_token===t.token0_address?t.token0_price_usd:t.token1_price_usd,"animation-bg"]])})),128)),(null===(ut=l.baseToken)||void 0===ut||null===(mt=ut.pairs)||void 0===mt?void 0:mt.length)>2&&l.isPairShowMore?(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],{key:0},Object(o["renderList"])(null===(pt=l.baseToken)||void 0===pt||null===(bt=pt.pairs)||void 0===bt?void 0:bt.slice(2),(function(t,i){return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createElementBlock"])("tr",{key:i},[Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.target_token===t.token0_address?t.token0_symbol:t.token1_symbol),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(t.target_token===t.token0_address?t.token1_symbol:t.token0_symbol),1)]),Object(o["createElementVNode"])("td",null,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve0:t.reserve1)),1),Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$f.formatNumber2(t.target_token===t.token0_address?t.reserve1:t.reserve0)),1)])])),[[ci,t.target_token===t.token0_address?t.token0_price_usd:t.token1_price_usd,"animation-bg"]])})),128)):Object(o["createCommentVNode"])("",!0)]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"btn-more",onClick:t[28]||(t[28]=Object(o["withModifiers"])((function(e){return l.isPairShowMore=!0}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("viewMore")),1),Object(o["createVNode"])(Gt,{name:"arrow-down"})],512),[[o["vShow"],!l.isPairShowMore&&(null===(ht=l.baseToken)||void 0===ht||null===(ft=ht.pairs)||void 0===ft?void 0:ft.length)>2]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("div",{class:"btn-more",onClick:t[29]||(t[29]=Object(o["withModifiers"])((function(e){return l.isPairShowMore=!1}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("putAway")),1),Object(o["createVNode"])(Gt,{name:"arrow-up"})],512),[[o["vShow"],l.isPairShowMore&&(null===(vt=l.baseToken)||void 0===vt||null===(gt=vt.pairs)||void 0===gt?void 0:gt.length)>2]])],4)]),2===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",te,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",ie,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[30]||(t[30]=Object(o["withModifiers"])((function(t){return s.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips"))}),["stop"]))})]),"solana"!==s.chain?(Object(o["openBlock"])(),Object(o["createBlock"])(Wt,{key:0,swapMode:l.customSwapMode,"onUpdate:swapMode":t[31]||(t[31]=function(e){return l.customSwapMode=e}),autoSwapMode:l.autoSwapMode,slippage:l.customSlippage,"onUpdate:slippage":t[32]||(t[32]=function(e){return l.customSlippage=e}),autoSlippage:l.autoSlippageValue},null,8,["swapMode","autoSwapMode","slippage","autoSlippage"])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",oe,[Object(o["createElementVNode"])("span",ne,Object(o["toDisplayString"])(l.solanaSlippage)+"%",1),Object(o["createVNode"])(Qt,{slippage:l.solanaSlippage,"onUpdate:slippage":t[33]||(t[33]=function(e){return l.solanaSlippage=e}),icon:1,onOnSubmit:s.onSubmitSolanaSlippage},null,8,["slippage","onOnSubmit"])]))]),Object(o["withDirectives"])(Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",ae,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("estimatedAveragePrice")),1)]),Object(o["createElementVNode"])("div",le,[Object(o["createElementVNode"])("span",null,"$"+Object(o["toDisplayString"])(s.getAvgPrice()),1)])],512),[[o["vShow"],l.fromAmount&&l.toAmount]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",se,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("priceImpact")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[34]||(t[34]=Object(o["withModifiers"])((function(t){return s.alertTips(e.$t("priceImpact"),e.$t("priceImpactTips"))}),["stop"]))})]),Object(o["createElementVNode"])("div",{style:Object(o["normalizeStyle"])({color:s.priceImpactColor})},Object(o["toDisplayString"])(s.priceImpact)+Object(o["toDisplayString"])(null!==(Ot=s.priceImpactV)&&void 0!==Ot&&null!==(kt=Ot.gt)&&void 0!==kt&&kt.call(Ot,.05)?"(".concat(e.$t("excessivePriceImpact"),")"):""),5)],512),[[o["vShow"],l.fromAmount&&l.toAmount]]),Object(o["withDirectives"])(Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",ce,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("tokenRoute")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[35]||(t[35]=Object(o["withModifiers"])((function(t){return s.alertTips(e.$t("tokenRoute"),e.$t("tokenRouteTips"))}),["stop"]))})]),"solana"===s.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",re,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])([s.fromToken,s.toToken],(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[0!==t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",de)):Object(o["createCommentVNode"])("",!0),e.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",ue,Object(o["toDisplayString"])(e.symbol),1)):Object(o["createCommentVNode"])("",!0)],64)})),128))])):1===(null===(jt=l.swapQuoteInfo)||void 0===jt?void 0:jt.toWrapper)||2===(null===(wt=l.swapQuoteInfo)||void 0===wt?void 0:wt.toWrapper)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",me,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.swapRouterPath,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[0!==t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",pe)):Object(o["createCommentVNode"])("",!0),e.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",be,Object(o["toDisplayString"])(e.symbol),1)):Object(o["createCommentVNode"])("",!0)],64)})),128))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{key:2,class:"path-list clickable",onClick:t[36]||(t[36]=Object(o["withModifiers"])((function(e){return l.dialogListRouterVisible=!0}),["stop","prevent"]))},[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.swapRouterPath,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:n},[t.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",he,Object(o["toDisplayString"])(t.symbol),1)):Object(o["createCommentVNode"])("",!0),t.nextAmm&&"unknown"!==t.nextAmm?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",fe,[Object(o["createVNode"])(qt,{class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"".concat(e.$store.state.s3BaseUrl,"swap/").concat(t.nextAmm,".jpeg"),"error-icon":i("aeccf")},null,8,["src","error-icon"]),ve])):Object(o["createCommentVNode"])("",!0)],64)})),128)),l.listRouter.length>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",ge)):Object(o["createCommentVNode"])("",!0)]))],512),[[o["vShow"],l.fromAmount&&l.toAmount]]),"solana"!==s.chain?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",Oe,[Object(o["createElementVNode"])("div",ke,Object(o["toDisplayString"])(e.$t("estimatedGas")),1),Object(o["createElementVNode"])("div",je,[Object(o["createElementVNode"])("span",null,"≈ "+Object(o["toDisplayString"])(s.estimatedFee),1),"bsc"===e.$store.getters.netId?(Object(o["openBlock"])(),Object(o["createBlock"])(Ht,{key:0,class:"ml-5",standardGasPrice:l.gasPrice,gas:this.swapInfo.gasValue,nativePrice:l.nativePrice,onUpdateGasPrice:s.updateGasPrice},null,8,["standardGasPrice","gas","nativePrice","onUpdateGasPrice"])):Object(o["createCommentVNode"])("",!0)])])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),0===l.selected||1===l.selected||3===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",we,[Object(o["createElementVNode"])("li",null,[Object(o["createElementVNode"])("div",ye,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[37]||(t[37]=Object(o["withModifiers"])((function(t){return s.alertTips(e.$t("slippage"),e.$t("minimumReceivedTips"))}),["stop"]))})]),0===l.selected||1===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Se,[Object(o["createElementVNode"])("span",Te,Object(o["toDisplayString"])(l.limitSlippage)+"%",1),Object(o["createVNode"])(Qt,{slippage:l.limitSlippage,"onUpdate:slippage":t[38]||(t[38]=function(e){return l.limitSlippage=e}),icon:1,onOnSubmit:s.onSubmitLimitSlippage},null,8,["slippage","onOnSubmit"])])):3===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ne,[Object(o["createElementVNode"])("span",Ve,Object(o["toDisplayString"])(l.noGasSlippage)+"%",1),Object(o["createVNode"])(Qt,{slippage:l.noGasSlippage,"onUpdate:slippage":t[39]||(t[39]=function(e){return l.noGasSlippage=e}),icon:1,min:5,slippageList:["5","6","7"],onOnSubmit:s.onSubmitNoGasSlippage},null,8,["slippage","onOnSubmit"])])):Object(o["createCommentVNode"])("",!0)]),0===l.selected||1===l.selected?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",$e,[Object(o["createElementVNode"])("div",_e,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("limitExpiredTime")),1)]),Object(o["createElementVNode"])("div",Ee,Object(o["toDisplayString"])(l.LimitExpiredDays)+" "+Object(o["toDisplayString"])(e.$t("days")),1)])):Object(o["createCommentVNode"])("",!0)])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",xe,[Object(o["createElementVNode"])("div",Be,[Object(o["createVNode"])(Yt,{active:l.tabActive1,"onUpdate:active":t[40]||(t[40]=function(e){return l.tabActive1=e}),shrink:"",color:"#558BED","title-active-color":"#333333","title-inactive-color":"#999999",style:{"--van-tabs-nav-background-color":"#fff"}},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Jt,{name:"swap",title:e.$t("historyExchange")},null,8,["title"]),l.isSupportNoGas?(Object(o["openBlock"])(),Object(o["createBlock"])(Jt,{key:0,name:"noGas",title:e.$t("historyNoGas")},null,8,["title"])):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(Jt,{name:"limit",title:e.$t("historyLimitOrder")},null,8,["title"])]})),_:1},8,["active"]),Ce,Object(o["createVNode"])(Kt,{modelValue:l.isCurrentToken,"onUpdate:modelValue":t[41]||(t[41]=function(e){return l.isCurrentToken=e}),"icon-size":"0.32rem",style:{"--van-checkbox-size":"1.1","--van-checkbox-label-margin":"0.1rem"}},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("currentToken")),1)]})),_:1},8,["modelValue"]),"limit"===l.tabActive1?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[l.loadingGetLimitOrder?(Object(o["openBlock"])(),Object(o["createBlock"])(Xt,{key:0,size:"0.4rem",style:{"margin-left":"0.36rem"}})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{key:1,class:"iconfont icon-shuaxin",onClick:t[42]||(t[42]=Object(o["withModifiers"])((function(){return s.getLimitOrder&&s.getLimitOrder.apply(s,arguments)}),["stop"]))}))],64)):Object(o["createCommentVNode"])("",!0)]),"swap"===l.tabActive1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",Ae,[(null===(yt=s.txs)||void 0===yt?void 0:yt.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(ti,{key:0,items:s.txs,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(o["withCtx"])((function(e){var t=e.item,i=e.index,n=e.active;return[Object(o["createVNode"])(ei,{item:t,active:n,"data-index":i},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(Zt,{item:t},null,8,["item"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createVNode"])(ii,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],s.txs&&0===s.txs.length]])])):Object(o["createCommentVNode"])("",!0),"limit"===l.tabActive1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",Ie,[(null===(St=s.filterLimitOrders)||void 0===St?void 0:St.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(ti,{key:0,items:s.filterLimitOrders,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(o["withCtx"])((function(e){var t=e.item,i=e.index,n=e.active;return[Object(o["createVNode"])(ei,{item:t,active:n,"data-index":i},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(oi,{item:t,onRefresh:s.refreshLimit},null,8,["item","onRefresh"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createVNode"])(ii,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],s.filterLimitOrders&&0===s.filterLimitOrders.length]])])):Object(o["createCommentVNode"])("",!0),"noGas"===l.tabActive1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",De,[(null===(Tt=s.filterNoGasTxList)||void 0===Tt?void 0:Tt.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(ti,{key:0,items:s.filterNoGasTxList,"min-item-size":200,"key-field":"id","page-mode":"",buffer:1e3,class:"scroller"},{default:Object(o["withCtx"])((function(e){var t=e.item,i=e.index,n=e.active;return[Object(o["createVNode"])(ei,{item:t,active:n,"data-index":i},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(ni,{item:t,onRefresh:s.getNoGasList},null,8,["item","onRefresh"])]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createVNode"])(ii,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],s.filterNoGasTxList&&0===s.filterNoGasTxList.length&&!l.loadingGetNoGasList]])])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",Le,[Object(o["createElementVNode"])("div",{class:"section-audit",onClick:t[43]||(t[43]=Object(o["withModifiers"])((function(){return s.goAudit&&s.goAudit.apply(s,arguments)}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("securityAudit"))+": ",1),Pe])])],4),Object(o["createVNode"])(ai,{visible:l.dialogVisibleSwap,"onUpdate:visible":t[44]||(t[44]=function(e){return l.dialogVisibleSwap=e}),swapInfo:l.swapInfo,slippage:"solana"===s.chain?l.solanaSlippage:s.slippage,onSubmit:s.submitSwap,loading:l.loadingConfirmSwap,chain:e.$store.getters.netId||(null===(Nt=e.$route.params)||void 0===Nt||null===(Vt=Nt.id)||void 0===Vt||null===($t=Vt.split)||void 0===$t||null===(_t=$t.call(Vt,"-"))||void 0===_t?void 0:_t[1])||"",nativePrice:l.nativePrice,gasPrice:s.customGasPrice},null,8,["visible","swapInfo","slippage","onSubmit","loading","chain","nativePrice","gasPrice"]),Object(o["createVNode"])(li,{visible:l.dialogVisibleLimit,"onUpdate:visible":t[45]||(t[45]=function(e){return l.dialogVisibleLimit=e}),limitInfo:l.limitInfo,onSubmit:s.submitLimitOrder,loading:l.loadingConfirmLimit,chain:e.$store.getters.netId||(null===(Et=e.$route.params)||void 0===Et||null===(xt=Et.id)||void 0===xt||null===(Bt=xt.split)||void 0===Bt||null===(Ct=Bt.call(xt,"-"))||void 0===Ct?void 0:Ct[1])||"",limitGasU:l.limitGasU},null,8,["visible","limitInfo","onSubmit","loading","chain","limitGasU"]),Object(o["createVNode"])(si,{show:l.dialogListRouterVisible,"onUpdate:show":t[46]||(t[46]=function(e){return l.dialogListRouterVisible=e}),title:e.$t("selectRouter"),style:{height:"60%","--van-popup-background-color":"#fff"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("ul",Fe,[Object(o["createElementVNode"])("li",Ue,[Object(o["createElementVNode"])("span",Me,Object(o["toDisplayString"])(e.$t("router")),1),Object(o["createElementVNode"])("span",Re,Object(o["toDisplayString"])(l.isAmount?e.$t("expectedAmount"):e.$t("expectedPay")),1),Object(o["createElementVNode"])("span",Ge,Object(o["toDisplayString"])(e.$t("priceImpact")),1),ze]),Object(o["withDirectives"])(Object(o["createVNode"])(ii,{description:e.$t("emptyData"),class:"empty"},null,8,["description"]),[[o["vShow"],l.listRouter&&0===l.listRouter.length]]),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.listRouter,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{key:n,class:"token-item",onClick:Object(o["withModifiers"])((function(e){return s.getSelectedRouter(n)}),["stop"])},[Object(o["createElementVNode"])("div",Qe,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(t.path,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:n},[t.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",qe,Object(o["toDisplayString"])(t.symbol),1)):Object(o["createCommentVNode"])("",!0),t.nextAmm&&"unknown"!==t.nextAmm?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",He,[Object(o["createVNode"])(qt,{class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"".concat(e.$store.state.s3BaseUrl,"swap/").concat(t.nextAmm,".jpeg"),"error-icon":i("aeccf")},null,8,["src","error-icon"]),Je])):Object(o["createCommentVNode"])("",!0)],64)})),128)),0===n?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ye,Object(o["toDisplayString"])(e.$t("best")),1)):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("span",Ke,Object(o["toDisplayString"])(e.$f.formatNumber2(t.amount)),1),t.priceImpact<10?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"right-label flex-1",style:Object(o["normalizeStyle"])({color:s.formatPriceImpactColor(t.priceImpact)})},[Number(t.priceImpact)<.01?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Xe],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2(t.priceImpact,2))+"% ",1)],64))],4)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:"right-label flex-1",style:Object(o["normalizeStyle"])({color:s.formatPriceImpactColor(t.priceImpact)})},[Number(t.priceImpact)>40?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Ze],64)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$f.formatNumber2(t.priceImpact,2))+"% ",1)],64))],4)),l.selectedRouterIndex===n?(Object(o["openBlock"])(),Object(o["createBlock"])(Gt,{key:2,size:"0.32rem",color:"#558BED",name:"success"})):(Object(o["openBlock"])(),Object(o["createBlock"])(Gt,{key:3,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,We)})),128))])]})),_:1},8,["show","title"])],64)}var tt=i("fc11"),it=i("c964"),ot=i("f3f3"),nt=i("d0ff"),at=i("d0af"),lt=(i("96cf"),i("4de4"),i("d3b7"),i("7db0"),i("2ca0"),i("b680"),i("159b"),i("25f0"),i("d81d"),i("c740"),i("5319"),i("466d"),i("4d63"),i("c607"),i("2c3e"),i("4e82"),i("00b4"),i("3ca3"),i("ddb0"),i("e9c4"),i("caad"),i("2532"),i("b64b"),i("a15b"),i("85b6")),st=i("57c9"),ct=i("9587"),rt=function(e){return Object(o["pushScopeId"])("data-v-5a559431"),e=e(),Object(o["popScopeId"])(),e},dt={class:"flex items-center"},ut={class:"label mr-20"},mt={key:0,class:"token-container"},pt={class:"icon-token-container mr-5"},bt=["src"],ht={class:"mr-5"},ft=rt((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),vt={class:"flex items-center mt-10"},gt={class:"label mr-20"},Ot={key:0,class:"token-container"},kt={class:"icon-token-container mr-5"},jt=["src"],wt={class:"mr-5"},yt={class:"flex items-center justify-between mt-10"},St={class:"label mr-20"},Tt=rt((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)}));function Nt(e,t,i,n,a,l){var s,c,r,d=Object(o["resolveComponent"])("van-image"),u=Object(o["resolveComponent"])("van-loading");return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"tx-li-item van-hairline--bottom clickable",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){return l.goLink&&l.goLink.apply(l,arguments)}),["stop"]))},[Object(o["createElementVNode"])("div",dt,[Object(o["createElementVNode"])("span",ut,Object(o["toDisplayString"])(e.$t("from")),1),i.item.from_token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",mt,[Object(o["createElementVNode"])("div",pt,[Object(o["createVNode"])(d,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(i.item.from_token+"-"+i.item.chain),"error-icon":a.defaultIcon},null,8,["src","error-icon"]),Object(o["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(i.item.chain,".png"),alt:"",srcset:""},null,8,bt)]),Object(o["createElementVNode"])("span",ht,Object(o["toDisplayString"])(e.$f.formatNumber2(l.formatUnits(i.item.from_amount,i.item.from_token_decimals))),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(i.item.from_token_symbol||""),1)])):Object(o["createCommentVNode"])("",!0),ft]),Object(o["createElementVNode"])("div",vt,[Object(o["createElementVNode"])("span",gt,Object(o["toDisplayString"])(e.$t("to")),1),i.item.to_token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Ot,[Object(o["createElementVNode"])("div",kt,[Object(o["createVNode"])(d,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(i.item.to_token+"-"+i.item.chain),"error-icon":a.defaultIcon},null,8,["src","error-icon"]),Object(o["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(i.item.chain,".png"),alt:"",srcset:""},null,8,jt)]),Object(o["createElementVNode"])("span",wt,Object(o["toDisplayString"])(e.$f.formatNumber2(l.formatUnits(i.item.to_amount,i.item.to_token_decimals))),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===(s=i.item)||void 0===s?void 0:s.to_token_symbol)||""),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",yt,[Object(o["createElementVNode"])("span",St,Object(o["toDisplayString"])(e.$f.formatDate(i.item.created_at)),1),1===i.item.status||2===i.item.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(o["normalizeStyle"])({color:l.formatStatusColor(i.item.status)})},Object(o["toDisplayString"])(l.formatStatus(i.item.status)),5)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Tt,0===(null===(c=i.item)||void 0===c?void 0:c.status)||-1===(null===(r=i.item)||void 0===r?void 0:r.status)?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("pending")),1)]})),_:1})):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:1,class:"status-txt",style:Object(o["normalizeStyle"])({color:l.formatStatusColor(i.item.status)})},Object(o["toDisplayString"])(l.formatStatus(i.item.status)),5))],64))])])}var Vt=i("6779"),$t=i("aeccf"),_t=i.n($t),Et={name:"NoGasTxItem",props:{item:Object},emits:["refresh"],data:function(){return{defaultIcon:_t.a,loading:!1}},methods:{formatUnits:Vt["utils"].formatUnits,formatStatus:function(e){var t,i={0:"",1:this.$t("cancelled"),2:this.$t("completed"),3:this.$t("unknownError1"),7:this.$t("unknownError1"),4:this.$t("notEnoughBalance"),5:this.$t("insufficientSlippage1"),8:this.$t("insufficientSlippage1"),6:this.$t("transferFailed"),10:this.$t("fail1")+"(".concat(this.$t("nonceError"),")"),11:this.$t("fail1")+"(".concat(this.$t("chainError"),")"),12:this.$t("fail1")+"(".concat(this.$t("signatureError"),")"),13:this.$t("fail1")+"(".concat(this.$t("approveGasPriceLow"),")"),15:this.$t("fail1")+"(".concat(this.$t("gasLimitHigh"),")"),16:this.$t("fail1")+"(".concat(this.$t("swapTokenRiskHigh"),")"),"-1":""};return null!==(t=i[e])&&void 0!==t?t:e},formatStatusColor:function(e){return 1===e||10===e||11===e||12===e?"#999999":2===e?"#12B886":0===e?"#3F80F7":"#FF0000"},goLink:function(){var e=this.$f.formatExplorerUrl(this.item.chain,this.item.executed_tx_hash,"tx");e&&this.item.executed_tx_hash&&this.$f.openBrowser(e)}}},xt=(i("959c"),i("6b0d")),Bt=i.n(xt);const Ct=Bt()(Et,[["render",Nt],["__scopeId","data-v-5a559431"]]);var At=Ct,It=function(e){return Object(o["pushScopeId"])("data-v-2466ae6f"),e=e(),Object(o["popScopeId"])(),e},Dt={class:"select-box"},Lt={key:0,class:"token-container"},Pt={key:1},Ft=It((function(){return Object(o["createElementVNode"])("i",{class:"iconfont icon-collapse-down"},null,-1)})),Ut={class:"rules-content"},Mt={class:"search-bar",action:"/"},Rt={key:0,class:"pop-title"},Gt={style:{background:"#fff"}},zt=["onClick"],Wt={class:"main"},Qt={key:0,class:"risk-status high"},qt={key:0,class:"minor"},Ht=It((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),Jt={class:"right-label"},Yt=It((function(){return Object(o["createElementVNode"])("br",null,null,-1)})),Kt={key:0,class:"minor"};function Xt(e,t,n,a,l,s){var c=Object(o["resolveComponent"])("van-image"),r=Object(o["resolveComponent"])("van-search"),d=Object(o["resolveComponent"])("van-empty"),u=Object(o["resolveComponent"])("van-icon"),m=Object(o["resolveComponent"])("DynamicScrollerItem"),p=Object(o["resolveComponent"])("DynamicScroller"),b=Object(o["resolveComponent"])("van-action-sheet");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Dt,[Object(o["createElementVNode"])("button",{class:"select-container",type:"button",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return l.show=!0}),["stop"]))},[n.token.address||n.token.token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Lt,[(Object(o["openBlock"])(),Object(o["createBlock"])(c,{key:n.token.logo_url||0,round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:n.token.logo_url?e.$f.formatIcon({logo_url:n.token.logo_url}):e.$f.formatIcon((n.token.token||n.token.address)+"-"+n.chain),"error-icon":i("aeccf")},null,8,["src","error-icon"])),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.token.symbol||""),1)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Pt,Object(o["toDisplayString"])(e.$t("pleaseSelectToken")),1)),Ft]),Object(o["createVNode"])(b,{show:l.show,"onUpdate:show":t[2]||(t[2]=function(e){return l.show=e}),title:e.$t("selectToken"),style:{height:"80vh","--van-popup-background-color":"#fff"},"lazy-render":!1},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",Ut,[Object(o["createElementVNode"])("form",Mt,[Object(o["createVNode"])(r,{modelValue:l.keyword,"onUpdate:modelValue":t[1]||(t[1]=function(e){return l.keyword=e}),modelModifiers:{trim:!0},background:"#fff",shape:"round",placeholder:e.$t("searchContractORName"),onSearch:s.onSearch,onCancel:s.onCancel},null,8,["modelValue","placeholder","onSearch","onCancel"])]),""!==l.keyword||n.isBalance?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",Rt,Object(o["toDisplayString"])(e.$t("popularTokens")),1)),Object(o["createElementVNode"])("ul",Gt,[Object(o["withDirectives"])(Object(o["createVNode"])(d,{class:"empty",image:e.emptyNoDataLight,description:e.$t("empty")},null,8,["image","description"]),[[o["vShow"],l.searchTokens&&0===l.searchTokens.length&&!l.loading]]),Object(o["createVNode"])(p,{items:l.searchTokens,"min-item-size":30,"key-field":"address",class:"tokens"},{default:Object(o["withCtx"])((function(t){var a=t.item,r=t.index,d=t.active;return[Object(o["createVNode"])(m,{item:a,active:d,"data-index":r},{default:Object(o["withCtx"])((function(){var t;return[Object(o["createElementVNode"])("li",{class:"token-item",onClick:Object(o["withModifiers"])((function(e){return s.handleSelectToken(a)}),["stop"])},[Object(o["createVNode"])(c,{class:"icon-token",round:"",width:"0.6rem",height:"0.6rem","icon-size":"0.6rem","lazy-load":"","show-loading":"",src:a.logo_url?e.$f.formatIcon({logo_url:a.logo_url}):l.errorIcon,"error-icon":i("aeccf")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("div",null,[Object(o["createElementVNode"])("div",Wt,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.symbol),1),(a.risk_score>55||a.risk_level<0)&&1!==a.risk_level?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Qt,Object(o["toDisplayString"])(e.$t("highRisk")),1)):Object(o["createCommentVNode"])("",!0)]),(null!==a&&void 0!==a&&null!==(t=a.tags)&&void 0!==t&&t.includes("tokens")||null===a||void 0===a||!a.tags)&&a.address!==l.nativeToken?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",qt,Object(o["toDisplayString"])(a.address.slice(0,6)+"..."+a.address.slice(-6)),1)):Object(o["createCommentVNode"])("",!0)]),Ht,Object(o["createElementVNode"])("div",Jt,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(a.value?e.$f.formatNumber2(a.value):""),1),Yt,void 0!==a.price?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Kt,"$"+Object(o["toDisplayString"])(a.value?e.$f.formatNumber2(a.value*a.price):""),1)):Object(o["createCommentVNode"])("",!0)]),a.address===(n.token.address||n.token.token)?(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:0,size:"0.32rem",color:"#558BED",name:"success"})):(Object(o["openBlock"])(),Object(o["createBlock"])(u,{key:1,style:{opacity:"0"},size:"0.32rem",color:"#558BED",name:"success"}))],8,zt)]})),_:2},1032,["item","active","data-index"])]})),_:1},8,["items"])])])]})),_:1},8,["show","title"])])}i("841c");var Zt=i("365c"),ei=i("c9d9"),ti=i("aeccf"),ii=null,oi={name:"SwapSelectToken",props:{tokens:Array,token:{type:Object,default:function(){return{address:"",chain:"",symbol:"",isbaseToken:!1}}},chain:String,hasNative:{type:Boolean,default:!0},isBalance:{type:Boolean,default:!1}},emits:["update:token"],data:function(){return{errorIcon:ti,show:!1,keyword:"",searchTokens:this.tokens||[],loading:!1,nativeToken:ei["k"]}},computed:{searchResultTokens:function(){var e,t=this;return(null===(e=this.searchTokens)||void 0===e?void 0:e.length)>0?this.searchTokens:this.tokens.filter((function(e){return t.hasNative||e.address!==ei["k"]}))}},watch:{keyword:function(e){""!==e?this.tokenSearch():this.searchTokens=this.tokens},show:function(e){var t,i,o;e&&(this.searchTokens=this.tokens,this.keyword=""),console.log("isRefreshEnable",e),null===(t=window)||void 0===t||null===(i=t._tw_)||void 0===i||null===(o=i.isRefreshEnable)||void 0===o||o.call(i,"bridge",!e)}},methods:{onSearch:function(e){console.log(e),ii&&(clearTimeout(ii),ii=null),this.search()},onCancel:function(){this.keyword="",this.show=!1},handleSelectToken:function(e){var t=this;if(null!==e&&void 0!==e&&e.address||null!==e&&void 0!==e&&e.token){var i=Object(ot["a"])(Object(ot["a"])({},e),{},{address:e.address||e.token,isbaseToken:this.token.isbaseToken});this.$emit("update:token",i),Object.keys(i).forEach((function(e){t.token[e]=i[e]})),this.show=!1}},tokenSearch:function(){var e=this;ii&&(clearTimeout(ii),ii=null),ii=setTimeout((function(){e.search()}),800)},search:function(){var e=this;if(""!==this.keyword){var t=new RegExp(this.keyword,"i"),i=this.tokens.filter((function(i){return(t.test(i.address)||t.test(i.symbol)||t.test(i.name))&&(e.hasNative||i.address!==ei["k"])}));this.loading=!0;var o=this.keyword;Object(Zt["Z"])(this.keyword,this.chain).then((function(t){var n,a,l;if(o===e.keyword){var s=null===(n=t.filter)||void 0===n||null===(a=n.call(t,(function(t){return t.chain===e.chain&&!i.some((function(e){return e.token===t.token}))})))||void 0===a||null===(l=a.map)||void 0===l?void 0:l.call(a,(function(e){return Object(ot["a"])(Object(ot["a"])({},e),{},{address:e.token,decimals:e.decimals||e.decimal})}));e.searchTokens=[].concat(Object(nt["a"])(i),Object(nt["a"])(s))}})).catch((function(t){console.log(t),e.searchTokens=[]})).finally((function(){e.loading=!1}))}else this.searchTokens=this.tokens.filter((function(t){return e.hasNative||t.address!==ei["k"]}))}}};i("b810");const ni=Bt()(oi,[["render",Xt],["__scopeId","data-v-2466ae6f"]]);var ai=ni,li=i("a2ef"),si=i("ce94"),ci=i("cf1a"),ri=i("449c"),di=i("497e"),ui=i("fadf"),mi=function(e){return Object(o["pushScopeId"])("data-v-f897fa40"),e=e(),Object(o["popScopeId"])(),e},pi={class:"select-box"},bi={class:"flex items-center"},hi={style:{background:"#fff",padding:"0.2rem 0.3rem 1rem 0.3rem","--van-cell-background-color":"transparent"}},fi={class:"setting-title"},vi={class:"card-container"},gi={class:"font-500"},Oi={class:"color-999 ml-5"},ki=mi((function(){return Object(o["createElementVNode"])("div",{class:"setting-title"},"Gas Price(GWEI)",-1)})),ji={class:"slippage-setting"},wi=["onClick"],yi={class:"color-999"},Si={class:"mt-5 font-500"};function Ti(e,t,i,n,a,l){var s=Object(o["resolveComponent"])("van-field"),c=Object(o["resolveComponent"])("van-button"),r=Object(o["resolveComponent"])("van-action-sheet");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",pi,[Object(o["createElementVNode"])("div",bi,[Object(o["createElementVNode"])("i",{class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return a.show=!0}),["stop"]))})]),Object(o["createVNode"])(r,{show:a.show,"onUpdate:show":t[2]||(t[2]=function(e){return a.show=e}),title:e.$t("gasSetting"),style:{"--van-popup-background-color":"#fff","min-height":"40%"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",hi,[Object(o["createElementVNode"])("div",fi,Object(o["toDisplayString"])(e.$t("gasFee"))+"(BNB)",1),Object(o["createElementVNode"])("div",vi,[Object(o["createElementVNode"])("span",gi,Object(o["toDisplayString"])(l.estimatedB),1),Object(o["createElementVNode"])("span",Oi,"≈"+Object(o["toDisplayString"])(l.estimatedU),1)]),ki,Object(o["createElementVNode"])("div",ji,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(l.gasPriceList,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:t,type:"button",class:Object(o["normalizeClass"])({active:a.gasPriceValue===e.value}),onClick:function(t){return a.gasPriceValue=e.value}},[Object(o["createElementVNode"])("span",yi,Object(o["toDisplayString"])(e.name),1),Object(o["createElementVNode"])("span",Si,Object(o["toDisplayString"])(e.value),1)],10,wi)})),128)),Object(o["createVNode"])(s,{class:"input",type:"number",min:l.standardGasPriceD,placeholder:e.$t("custom"),modelValue:a.gasPriceValue,"onUpdate:modelValue":t[1]||(t[1]=function(e){return a.gasPriceValue=e}),onBlur:l.handleBlur,clearable:""},null,8,["min","placeholder","modelValue","onBlur"])]),Object(o["createVNode"])(c,{block:"",type:"primary","native-type":"button",color:"#3F80F7",class:"submit-btn",style:Object(o["normalizeStyle"])({marginTop:"1.5rem"}),onClick:Object(o["withModifiers"])(l.submitSwapGasSet,["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["style","onClick"])])]})),_:1},8,["show","title"])])}var Ni=i("901e"),Vi=i.n(Ni),$i=i("2c28"),_i={name:"SwapGasSet",props:{standardGasPrice:{type:[Number,String],default:"3000000000"},gas:{type:[Number,String],default:ei["d"]},nativePrice:[Number,String]},emits:["updateGasPrice"],setup:function(){var e=Object($i["useStorage"])("gasSetting",{},localStorage);return{gasSetting:e}},data:function(){var e=this.$store.getters.netId,t=this.standardGasPrice;if(e){var i,o=null===(i=this.gasSetting)||void 0===i?void 0:i[e];t=(null===o||void 0===o?void 0:o.customGasPrice)||("bsc"===e?ei["c"]:this.standardGasPrice)}return{show:!1,gasPriceValue:new Vi.a(t||this.standardGasPrice).div(Math.pow(10,9)).toFixed()}},computed:{standardGasPriceD:function(){return new Vi.a(this.standardGasPrice).div(Math.pow(10,9)).toFixed(0)},gasPriceList:function(){var e=new Vi.a(this.standardGasPrice).div(Math.pow(10,9)),t=new Vi.a(4).div(3),i=new Vi.a(6).div(3);return[{name:this.$t("standard"),value:e.toFixed(0)},{name:this.$t("fast1"),value:t.times(e).toFixed(0)},{name:this.$t("instant"),value:i.times(e).toFixed(0)}]},estimatedB:function(){var e=this.gas;return e?this.$f.formatNumber2(new Vi.a(e.toString()).times(this.gasPriceValue).div(String(Math.pow(10,9))).toFixed()||"0",2):"0"},estimatedU:function(){var e=this.gas;if(!e)return"0";var t=this.nativePrice;return this.$f.formatNumberCurrencyUnit(new Vi.a(e.toString()).times(t).times(this.gasPriceValue).div(String(Math.pow(10,9))).toFixed()||"0",2)}},watch:{show:function(e){if(e){var t=this.$store.getters.netId,i=this.standardGasPrice;if(t){var o,n=null===(o=this.gasSetting)||void 0===o?void 0:o[t];i=(null===n||void 0===n?void 0:n.customGasPrice)||("bsc"===t?ei["c"]:this.standardGasPrice)}this.gasPriceValue=new Vi.a(i).div(Math.pow(10,9)).toFixed()||this.standardGasPrice}}},methods:{handleBlur:function(){var e=new Vi.a(this.standardGasPrice).div(Math.pow(10,9));this.show&&e.gt(this.gasPriceValue)&&(this.gasPriceValue=e.toFixed(0))},submitSwapGasSet:function(){var e=new Vi.a(this.gasPriceValue||"0").times(Math.pow(10,9)).toFixed(0),t=this.$store.getters.netId;if(t){var i=this.gasSetting[t];this.gasSetting=Object(ot["a"])(Object(ot["a"])({},this.gasSetting),{},Object(tt["a"])({},t,Object(ot["a"])(Object(ot["a"])({},i),{},{customGasPrice:e}))),this.$emit("updateGasPrice",this.gasSetting)}this.show=!1}}};i("eb18");const Ei=Bt()(_i,[["render",Ti],["__scopeId","data-v-f897fa40"]]);var xi=Ei,Bi=i("3edc"),Ci=i("f465"),Ai=i("335a"),Ii=i("847c"),Di=i("8e2e"),Li=i("ddd2"),Pi=i("ddc3"),Fi=null,Ui=null,Mi=null,Ri=null,Gi=null,zi=null,Wi=null;Bi["a"].props.components.default=function(){return{OpenIndicator:{render:function(){return Object(o["h"])("span",{innerHTML:'<svg height="8" viewBox="0 0 14 8" width="14" xmlns="http://www.w3.org/2000/svg"><g fill="none" fill-rule="evenodd" transform="matrix(0 1 -1 0 16 -5)"><path d="m0 0h18v18h-18z"/><path d="m12.8008158 9.14463395c-.0305856.13208319-.0973435.25748808-.2002738.36041835l-6.0104076 6.0104076c-.29289322.2928933-.76776696.2928933-1.06066017 0-.29289322-.2928932-.29289322-.7677669 0-1.0606601l5.48233267-5.48233272-5.48147681-5.48147682c-.29289322-.29289322-.29289322-.76776696 0-1.06066017.29289321-.29289322.76776695-.29289322 1.06066017 0l6.01040764 6.01040764c.1909127.19091266.2573853.45914247.1994179.70389622z" fill="#999"/></g></svg>'})}}}};var Qi="2",qi=["limit","limit","swap","noGas"],Hi={name:"Swap",components:{PercentStep:lt["a"],TxItem:st["a"],SwapSelectToken:ai,ConfirmSwap:li["a"],PriceChart:ci["a"],SlippageButton:ri["a"],ConfirmLimit:si["a"],LimitTxItem:ct["a"],vSelect:Bi["a"],RebateImg:di["a"],SwapModeSet:ui["a"],NoGasTxItem:At,SwapGasSet:xi},setup:function(){var e,t,i=Object($i["useStorage"])("solanaTxs",[]),o=Object(Di["a"])("solanaTxs1",i.value.slice());return o.value=null===(e=o.value)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(function(e){return 1===(null===e||void 0===e?void 0:e.is_merged)||1!==e.is_merged&&1e3*(null===e||void 0===e?void 0:e.time)<=Date.now()-864e5})),{solanaTxs:o}},data:function(){var e,t,i,o,n,a,l,s,c,r,d,u,m=null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i?void 0:i.call(t,"-"),p=Object(at["a"])(m,2),b=p[0],h=p[1],f=!localStorage.autoSlippage||JSON.parse(localStorage.autoSlippage),v=localStorage.swapSlippage||"auto",g=this.$route.params.type?Number(this.$route.params.type):2;return 3!==g||null!==(o=window)&&void 0!==o&&null!==(n=o._tw_)&&void 0!==n&&n.appExchangeNoGas&&"bsc"===h||(g=2),{LimitExpiredDays:ei["f"],nativeToken:ei["k"],height:100,swapTokenInfo:{},tokens:[],token1:{address:b||"",chain:h||"",balance:0,symbol:""},token2:{address:"",chain:"",balance:0,symbol:""},fromAmount:"",toAmount:"",baseToken:{token:{symbol:""},pairs:[]},baseTokenExtra:{},selected:g,dataX:[],dataY:[],swapQuoteInfo:{},isPairShowMore:!1,quoteLoading:!1,allowance:0,loadingApprove:!1,loadingSwap:!1,dialogVisibleSwap:!1,swapSubmitInfo:{},swapInfo:{fromToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},toToken:{symbol:"",name:"",decimals:18,address:"",logoURI:""},isAmountOut:!1},loadingConfirmSwap:!1,tokensPrice:{},swapRouterPath:[],nativePrice:0,initTxs:[],txsLoading:!1,isCurrentToken:!0,userBalanceTokens:[],isAndroid:!(null===(a=window)||void 0===a||null===(l=a._tw_)||void 0===l||!l.appGetPlatform),gasPrice:"0",spender:"",isTaxHigh:!1,isCannotSellAll:!1,baseTokenPrice:0,isTax:!1,txsTokens:sessionStorage.txsTokens?JSON.parse(sessionStorage.txsTokens||[]):[],isAmount:!0,swapPathList:[],listRouter:[],dialogListRouterVisible:!1,selectedRouterIndex:0,openLp:null===(s=window)||void 0===s||null===(c=s._tw_)||void 0===c?void 0:c.openLp,tx:{},userTokenList:[],activeTab:Number(this.$route.query.dir)||0,limitFromToken:{address:"",chain:"",balance:0,symbol:"",price:0},limitFromAmount:"",limitToToken:{address:b||"",chain:h||"",balance:0,symbol:"",price:0},limitToAmount:"",limitPrice:"",loadingLimit:!1,dialogVisibleLimit:!1,loadingConfirmLimit:!1,limitInfo:{fromToken:{address:"",chain:"",balance:0,symbol:"",price:0},toToken:{address:b||"",chain:h||"",balance:0,symbol:"",price:0},fromAmount:"",toAmount:"",targetToken:"",targetLimitPrice:""},limitAllowance:0,loadingLimitApprove:!1,quoteLimitLoading:!1,tabActive1:null!==(r=qi[g])&&void 0!==r?r:"limit",limitOrders:[],limitMinReturn:0,loadingGetLimitOrder:!1,limitToken1:{address:b||"",chain:h||"",balance:0,symbol:"",price:0},limitAmount1:"",limitToken2:{address:"",chain:"",balance:0,symbol:"",price:0},limitAmount2:"",rateType:!0,autoSlippage:f,slippageInfo:{slippage:Qi,autoSlippage:!0},limitQuoteLoading:!1,limitSlippage:localStorage.limitSlippage||"5",loadingAllowance:!1,loadingLimitAllowance:!1,triggerPrice:"",limitGasU:"0",autoSwapMode:"fast",customSwapMode:localStorage.swapMode||"auto",autoSlippageValue:Qi,customSlippage:v,hasMEVBot:!1,isHotToken:!1,noGasSlippage:localStorage.noGasSlippage||"5",noGasTxList:[],loadingGetNoGasList:!1,isHasUnTx:!1,isSupportNoGas:null===(d=window)||void 0===d||null===(u=d._tw_)||void 0===u?void 0:u.appExchangeNoGas,gasBalance:0,isNoGas:!1,gasPriceKey:0,gasSetting:Ai["a"].get("gasSetting",{}),solanaQuoteResponse:{},solanaSwapTokenPrice:[0,0],quoteSolanaPreParams:{},solanaSwapBaseTokenPrice:0,solanaSlippage:localStorage.solanaSlippage||"19",loadingUnwrap:!1}},computed:{swapMode:function(){return"auto"===this.customSwapMode?this.autoSwapMode:this.customSwapMode},slippage:function(){return"auto"===this.customSlippage?this.autoSlippageValue:this.customSlippage},typeTabs:function(){return[{name:this.$t("buy"),type:0},{name:this.$t("sell"),type:1}]},types:function(){var e,t;return[].concat(Object(nt["a"])(null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appExchangeNoGas&&"eth"!==this.$store.getters.netId&&this.isNoGas?[{name:this.$t("noGasSwapT"),value:3}]:[{name:this.$t("swapT"),value:2}]),[{name:this.$t("limitT"),value:0},{name:this.$t("stopLimit"),value:1}])},typeName:function(){var e,t,i,o=this;return null===(e=this.types)||void 0===e||null===(t=e.find)||void 0===t||null===(i=t.call(e,(function(e){return e.value===o.selected})))||void 0===i?void 0:i.name},netId:function(){return this.$store.getters.netId||""},chain:function(){var e,t,i,o,n,a,l,s,c,r=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";return"evm"!==localStorage.okxwallet_chain&&(window.solana||null!==(n=window)&&void 0!==n&&null!==(a=n.trustwallet)&&void 0!==a&&a.solana&&(null===(l=window.ethereum)||void 0===l||null===(s=l.address)||void 0===s||null===(c=s.startsWith)||void 0===c||!c.call(s,"0x"))&&window.ethereum.address)&&(r="solana"),r},tokenInfo:function(){var e,t,i,o;if("Swap"!==this.$route.name)return{id:"",token:"",chain:""};var n=null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i?void 0:i.call(t,"-"),a=Object(at["a"])(n,2),l=a[0],s=a[1];return{id:null===(o=this.$route.params)||void 0===o?void 0:o.id,token:l,chain:s}},tabs:function(){return[{name:this.$t("buy"),value:"buy"},{name:this.$t("sell"),value:"sell"}]},isApprove:function(){if("solana"===this.chain)return!0;if(!this.allowance)return!1;var e=this.fromToken.decimals||0;return Vt["utils"].parseUnits(new Vi.a(this.fromAmount||0).toFixed(e),e).lte(this.allowance)},isLimitApprove:function(){if(!this.limitAllowance)return!1;var e=0===this.activeTab?this.limitToken2:this.limitToken1,t=e.decimals||0,i=0===this.activeTab?this.limitAmount2:this.limitAmount1;return Vt["utils"].parseUnits(new Vi.a(i||0).toFixed(t),t).lte(this.limitAllowance)},minReceived:function(){var e,t=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.routerPath)||{},i=t[t.length-1];return new Vi.a(null===i||void 0===i?void 0:i.amount).times(100-Number(this.slippage)).div(Math.pow(10,((null===i||void 0===i?void 0:i.decimals)||0)+2)).toFixed((null===i||void 0===i?void 0:i.decimals)||0)},maxSold:function(){var e,t=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.routerPath)||{},i=t[0];return new Vi.a(null===i||void 0===i?void 0:i.amount).times(1+Number(this.slippage)/100).div(Math.pow(10,(null===i||void 0===i?void 0:i.decimals)||0)).toFixed((null===i||void 0===i?void 0:i.decimals)||0)},txs:function(){var e,t,i=this,o="solana"===this.chain?null===(e=this.solanaTxs)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(function(e){return e.wallet_address===i.$store.state.currentAccount||!e.wallet_address})):this.initTxs;if(this.isCurrentToken){var n,a,l,s,c,r,d,u,m=null===(n=this.$route.params)||void 0===n||null===(a=n.id)||void 0===a||null===(l=a.split)||void 0===l||null===(s=l.call(a,"-"))||void 0===s?void 0:s[0],p=null===(c=this.$route.params)||void 0===c||null===(r=c.id)||void 0===r||null===(d=r.split)||void 0===d||null===(u=d.call(r,"-"))||void 0===u?void 0:u[1],b=Ai["a"].get("chainConfig",ei["l"])||{},h=null===b||void 0===b?void 0:b[p],f=null===h||void 0===h?void 0:h.wmainWrapper;return m=m===ei["k"]?f:m,null===o||void 0===o?void 0:o.filter((function(e){return e.from_address===m||e.to_address===m||(m===ei["k"]||m===f)&&(e.from_address===ei["k"]||e.from_address===f||e.to_address===ei["k"]||e.to_address===f)}))}return o},filterLimitOrders:function(){if(this.isCurrentToken){var e,t=this.limitToken1.address;return null===(e=this.limitOrders)||void 0===e?void 0:e.filter((function(e){return e.target_token===t}))}return this.limitOrders},filterNoGasTxList:function(){if(this.isCurrentToken){var e,t=this.limitToken1.address;return null===(e=this.noGasTxList)||void 0===e?void 0:e.filter((function(e){return e.from_token===t||e.to_token===t}))}return this.noGasTxList},taxStr:function(){var e,t,i,o,n,a,l,s=(null===(e=this.swapQuoteInfo)||void 0===e?void 0:e.totalTax)||((null===(t=this.swapQuoteInfo)||void 0===t?void 0:t.total_sell_tax)||0)+((null===(i=this.swapQuoteInfo)||void 0===i?void 0:i.total_buy_tax)||0);return s>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(s,1),"%)"):0===this.activeTab&&(null===(o=this.baseTokenExtra)||void 0===o?void 0:o.buy_tax)>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(null===(a=this.baseTokenExtra)||void 0===a?void 0:a.buy_tax,1),"%)"):1===this.activeTab&&(null===(n=this.baseTokenExtra)||void 0===n?void 0:n.sell_tax)>0?"(".concat(this.$t("tax"),": ").concat(this.$f.formatNumber2(null===(l=this.baseTokenExtra)||void 0===l?void 0:l.sell_tax,1),"%)"):""},priceImpactV:function(){var e,t,i,o,n,a,l,s,c;if(!Number(this.fromAmount)&&!Number(this.toAmount))return"";var r,d=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";if("evm"!==localStorage.okxwallet_chain&&(window.solana||null!==(n=window)&&void 0!==n&&null!==(a=n.trustwallet)&&void 0!==a&&a.solana&&(null===(l=window.ethereum)||void 0===l||null===(s=l.address)||void 0===s||null===(c=s.startsWith)||void 0===c||!c.call(s,"0x"))&&window.ethereum.address)&&(d="solana"),"solana"===d)return new Vi.a((null===(r=this.solanaQuoteResponse)||void 0===r?void 0:r.priceImpactPct)||0);var u=this.swapQuoteInfo.routerPath,m=(null===u||void 0===u?void 0:u.length)>0?null===u||void 0===u?void 0:u[0]:null,p=(null===u||void 0===u?void 0:u.length)>0?null===u||void 0===u?void 0:u[u.length-1]:null;if(m&&p){var b=this.swapQuoteInfo.from_price,h=this.swapQuoteInfo.to_price,f=Vt["utils"].formatUnits(m.amount,m.decimals),v=Vt["utils"].formatUnits(p.amount,p.decimals);return new Vi.a(f).times(b).div(new Vi.a(v).times(h)).minus(1).abs()}return""},priceImpact:function(){return this.priceImpactV?this.$f.formatNumber2(this.priceImpactV.times(100).toFixed(),2)+"%":""},swapButtonColor:function(){var e,t,i,o;return this.$store.state.currentAccount?null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#999":null!==(i=this.priceImpactV)&&void 0!==i&&null!==(o=i.gt)&&void 0!==o&&o.call(i,.1)?"#F7933F":0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},limitButtonColor:function(){return this.$store.state.currentAccount?0===this.activeTab?this.$store.getters.upColor[3]:1===this.activeTab?this.$store.getters.downColor[3]:"#558BED":"#999"},priceImpactColor:function(){var e,t,i,o,n,a;return null!==(e=this.priceImpactV)&&void 0!==e&&null!==(t=e.gt)&&void 0!==t&&t.call(e,.4)?"#F81111":null!==(i=this.priceImpactV)&&void 0!==i&&null!==(o=i.gt)&&void 0!==o&&o.call(i,.1)?"#F7933F":null!==(n=this.priceImpactV)&&void 0!==n&&null!==(a=n.gt)&&void 0!==a&&a.call(n,.05)?"#f8be46":""},swapTokens:function(){var e,t=Object(nt["a"])(null===(e=this.userBalanceTokens.slice())||void 0===e?void 0:e.filter((function(e){return!e.isWrapped})));return this.tokens.slice().forEach((function(e){var i=t.find((function(t){return t.id===e.id}));i?i.logo_url=e.logo_url:t.push(e)})),t.length>0?t:this.tokens.slice()},isShow:function(){var e,t,i,o,n,a,l,s,c=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"",r=Ai["a"].get("chainConfig",ei["l"])||{};return!(!r||!c)&&(null!==(n=null===(a=r[c])||void 0===a||null===(l=a.swaps)||void 0===l||null===(s=l.some)||void 0===s?void 0:s.call(l,(function(e){return e.router_address})))&&void 0!==n&&n)},fromToken:function(){return 1===this.activeTab?this.token1:this.token2},toToken:function(){return 1===this.activeTab?this.token2:this.token1},disabled1:function(){var e,t;if(!Number(this.limitPrice))return!0;var i=null===(e=this.baseToken)||void 0===e||null===(t=e.token)||void 0===t?void 0:t.current_price_usd;return 1===this.activeTab&&this.limitPrice<i},disabled2:function(){var e,t;if(!Number(this.limitPrice))return!0;var i=null===(e=this.baseToken)||void 0===e||null===(t=e.token)||void 0===t?void 0:t.current_price_usd;return 0===this.activeTab&&this.limitPrice>i},estimatedFee:function(){var e,t,i=null!==(e=this.swapInfo.gasValue)&&void 0!==e?e:ei["d"];if(!i)return"0";var o=this.$store.getters.netId,n=o?Object(ot["a"])({},(null===(t=this.gasSetting)||void 0===t?void 0:t[o])||{}):{},a=(null===n||void 0===n?void 0:n.customGasPrice)||ei["c"],l="bsc"===o?a:this.gasPrice,s=this.nativePrice;return this.$f.formatNumberCurrencyUnit(new Vi.a(i.toString()).times(s).times(l).div(String(Math.pow(10,18))).toFixed()||"0",2)},customGasPrice:function(){var e,t,i=this.$store.getters.netId,o=(null===(e=this.gasSetting)||void 0===e||null===(t=e[i])||void 0===t?void 0:t.customGasPrice)||ei["c"],n="bsc"===i?o:this.gasPrice;return n},wSOLAccount:function(){var e;if(!this.$store.state.currentAccount||"solana"!==this.chain)return null;var t=null===(e=this.userBalanceTokens)||void 0===e?void 0:e.find((function(e){return e.isWrapped}));return t},wSOLBalance:function(){var e,t;if(!this.$store.state.currentAccount||"solana"!==this.chain)return"0";var i=null===(e=this.userBalanceTokens)||void 0===e||null===(t=e.find((function(e){return e.isWrapped})))||void 0===t?void 0:t.balance;return console.log("balance",i),i||"0"}},watch:{"$route.params.id":function(e){e&&"Swap"===this.$route.name&&(this.autoSlippageValue=Qi,this.isTaxHigh=!1,this.isCannotSellAll=!1,this.baseTokenExtra={},this.baseTokenPrice=0,this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.selectedRouterIndex=0,this.getBaseToken(),this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getTokenDetails(),2===this.selected?this.supportChain():0!==this.selected&&1!==this.selected&&3!==this.selected||this.supportChainLimit(),this.getLimitAllowance())},"$store.state.currentAccount":function(e){e&&"Swap"===this.$route.name&&(this.autoSlippageValue=Qi,this.isTaxHigh=!1,this.isCannotSellAll=!1,this.selectedRouterIndex=0,this.getUserAllTxs(),this.getUserTokenList(),this.getSwapTokenList(),this.getAllowance(),this.getTokenDetails(),this.getLimitAllowance())},isPairShowMore:function(){this.getLeftHeight()},"$store.state.ws.tx":function(e){var t=this;this.tx=e,Ri||(Ri=setTimeout((function(){var e,i=t.tx,o=t.baseToken.token.chain||"",n=Ai["a"].get("chainConfig",ei["l"])||{},a=null===n||void 0===n?void 0:n[o],l=null===a||void 0===a?void 0:a.wmainWrapper,s=null===(e=t.baseToken)||void 0===e?void 0:e.token.token;s===ei["k"]&&o&&l&&(s=l);var c=t.baseToken.token.price_change,r=100*Number(t.baseToken.token.current_price_usd)/(100+Number(c));i.from_address===s?(t.baseToken.token.current_price_usd=i.from_price_usd,t.baseToken.token.price_change=100*(i.from_price_usd-r)/r):i.to_address===s&&(t.baseToken.token.current_price_usd=i.to_price_usd,t.baseToken.token.price_change=100*(i.to_price_usd-r)/r),i.from_address===t.limitToken1.address?t.limitToken1.price=i.from_price_usd:i.to_address===t.limitToken1.address&&(t.limitToken1.price=i.to_price_usd),i.to_address===t.limitToken2.address?t.limitToken2.price=i.to_price_usd:i.from_address===t.limitToken2.address&&(t.limitToken2.price=i.from_price_usd),t.dataY=t.dataY.map((function(e,i,o){return i===o.length-1?t.baseToken.token.current_price_usd:e}));var d=t.baseToken.pairs.findIndex((function(e){return e.pair===i.pair_address}));if(d>-1){var u=t.baseToken.pairs[d];i.from_address===u.token0_address?(i.from_reserve&&(t.baseToken.pairs[d].reserve0=i.from_reserve,t.baseToken.pairs[d].token0_price_usd=i.from_price_usd),i.to_reserve&&(t.baseToken.pairs[d].reserve1=i.to_reserve,t.baseToken.pairs[d].token1_price_usd=i.to_price_usd)):(i.to_reserve&&(t.baseToken.pairs[d].reserve0=i.to_reserve,t.baseToken.pairs[d].token0_price_usd=i.to_price_usd),i.from_reserve&&(t.baseToken.pairs[d].reserve1=i.from_reserve,t.baseToken.pairs[d].token1_price_usd=i.from_price_usd))}Ri=null}),1e3))},selected:function(e){var t,i,o;(this.$router.replace({name:"Swap",params:Object(ot["a"])(Object(ot["a"])({},this.$route.params),{},{type:e})}),2===this.selected)?(null===(t=this.$refs)||void 0===t||null===(i=t.percentStep)||void 0===i||null===(o=i.handleClick)||void 0===o||o.call(i,0),this.fromAmount="",this.toAmount="",this.getAllowance(),this.tabActive1="swap"):0===this.selected||1===this.selected?(this.supportChainLimit(),this.getLimitAllowance(),this.limitPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.triggerPrice=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"",this.tabActive1="limit"):3===this.selected&&(this.supportChainLimit(),this.getLimitAllowance(),this.tabActive1="noGas")},tabActive1:function(e){"swap"===e?this.getUserAllTxs():"limit"===e?this.getLimitOrder():"noGas"===e&&this.getNoGasList()}},mounted:function(){var e,t,i,o,n,a,l=this;if(this.getFeeInfo(),"evm"!==localStorage.okxwallet_chain&&(null!==(e=window)&&void 0!==e&&e.solana||null!==(t=window)&&void 0!==t&&null!==(i=t.trustwallet)&&void 0!==i&&i.solana&&(null===(o=window.ethereum)||void 0===o||null===(n=o.address)||void 0===n||null===(a=n.startsWith)||void 0===a||!a.call(n,"0x"))&&window.ethereum.address))Object(Ii["c"])().then((function(e){l.initActivated()}));else try{window.ethereum?Object(Li["a"])().then((function(e){l.initActivated()})):this.initActivated()}catch(s){console.log(s)}},activated:function(){},methods:{init:function(){this.getBaseToken(),this.getUserAllTxs(),this.getUserTokenList(),this.getAllowance(),this.getSwapTokenList(),2===this.selected?this.supportChain():0!==this.selected&&1!==this.selected&&3!==this.selected||this.supportChainLimit(),this.getLimitAllowance(),this.getLimitOrder(),this.getNoGasList()},initActivated:function(){var e,t,i,o,n,a,l,s,c,r,d;this.$f.setSwapSendType(""),this.handleWalletAddress(!1),this.selected=this.$route.params.type?Number(this.$route.params.type):2,3!==this.selected||null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appExchangeNoGas&&"eth"!==this.$store.getters.netId||(this.selected=2),this.tabActive1=null!==(i=qi[this.selected])&&void 0!==i?i:"swap";var u=sessionStorage.swap_token1?JSON.parse(sessionStorage.swap_token1):"",m=null===(o=this.$route.params)||void 0===o||null===(n=o.id)||void 0===n||null===(a=n.split)||void 0===a||null===(l=a.call(n,"-"))||void 0===l?void 0:l[0],p=this.$store.getters.netId||(null===(s=this.$route.params)||void 0===s||null===(c=s.id)||void 0===c||null===(r=c.split)||void 0===r||null===(d=r.call(c,"-"))||void 0===d?void 0:d[1])||"";m&&(m!==this.token1.address||u&&u.address!==m)?(this.token1={address:m||"",chain:p||"",balance:0,symbol:""},this.limitToken1=Object(ot["a"])({},this.token1)):m||!u||p!==u.chain||this.token1.address||(this.limitToken1=Object(ot["a"])({},this.swap_token1));var b=sessionStorage.swap_token2?JSON.parse(sessionStorage.swap_token2):"";b&&p===b.chain&&!this.token2.address&&(this.token2=Object(ot["a"])({},b),this.limitToken2=Object(ot["a"])({},b)),this.getBaseToken(),this.getUserTokenList(),this.getAllowance(),this.getSwapTokenList(),2===this.selected?this.supportChain():0!==this.selected&&1!==this.selected&&3!==this.selected||this.supportChainLimit(),"swap"===this.tabActive1?this.getUserAllTxs():"limit"===this.tabActive1?this.getLimitOrder():"noGas"===this.tabActive1&&this.getNoGasList(),this.getLimitAllowance(),this.getGasBalance(),this.getNativeTokenPrice(),this.getGasPrice()},formatUnits:Vt["utils"].formatUnits,formatPrice:function(e){return this.$f.formatNumber(e&&""!==e&&this.$store.state.tokensPrice[e]||0)},getPrice:function(e,t){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new Vi.a(t).times(100-i).div(100*e).toFixed(7))||"0"},getFeeInfo:function(){var e=this;Object(Zt["u"])().then((function(t){var i=e.$store.getters.netId;e.$store.state.feeInfo=e.$f.formatFee(t,i)}))},watchFromAmount:function(){if(!this.quoteLoading||this.isAmount){var e=this.fromAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.toAmount)?(this.toAmount=0,this.quoteLoading=!1):t&&(this.isAmount=!0,this.toAmount="",this.getQuoteInfo())}},watchToAmount:function(){if(!this.quoteLoading||!this.isAmount){var e=this.toAmount,t=Number(e);""===e||"."===e?(this.fromAmount="",this.toAmount="",this.quoteLoading=!1):0===t&&0!==Number(this.fromAmount)?(this.fromAmount=0,this.quoteLoading=!1):t&&(this.fromAmount="",this.isAmount=!1,this.getQuoteInfo(!1))}},handleFromAmountMax:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1,t=this.fromToken.balance||0;if(e){var i,o=this.fromToken.decimals||0;if((null===(i=this.fromToken)||void 0===i?void 0:i.address)===ei["k"]){var n=this.fromToken.chain,a=ei["j"][n]||.01;t=new Vi.a(t).minus(a).times(e).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(o,"})?")))[0]}else t=new Vi.a(t).times(e).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(o,"})?")))[0];0===Number(t)&&(t="")}this.fromAmount=t<0?0:t,this.watchFromAmount()},handlePercentChange:function(e,t){if(!t){var i=e/100,o=this.fromToken.balance||0;if(i){var n,a,l=this.fromToken.decimals||0;if((null===(n=this.fromToken)||void 0===n?void 0:n.address)===ei["k"]||"So11111111111111111111111111111111111111112"===(null===(a=this.fromToken)||void 0===a?void 0:a.address)){var s=this.fromToken.chain,c=ei["j"][s]||.01;if(new Vi.a(o).lt(c))return void this.$dialog.alert({title:this.$t("tips"),message:this.$t("balanceNotEnough",{n:c,s:this.fromToken.symbol}),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"});o=new Vi.a(o).minus(c).times(i).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0]}else o=new Vi.a(o).times(i).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0];0===Number(o)&&(o="")}else o="";this.fromAmount!==o&&(this.fromAmount=o<0?0:o,this.watchFromAmount())}},handleToAmountMax:function(){this.toAmount=this.toToken.balance||0,this.watchToAmount()},switchTab:function(e){this.activeTab=e,2===this.selected?(this.$refs.percentStep.handleClick(0),this.fromAmount="",this.toAmount="",this.getAllowance()):0!==this.selected&&1!==this.selected&&3!==this.selected||(this.$refs.percentStep1.handleClick(0),this.limitAmount1="",this.limitAmount2="",this.getLimitAllowance())},handlePercentChange1:function(e,t){if(!t){var i=e/100,o=0===this.activeTab?this.limitToken2:this.limitToken1,n=o.balance||0;if(i){var a=o.decimals||18;if((null===o||void 0===o?void 0:o.address)===ei["k"]||"So11111111111111111111111111111111111111112"===(null===o||void 0===o?void 0:o.address)){var l=o.chain,s=ei["j"][l]||.01;n=new Vi.a(n).minus(s).times(i).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0]}else n=new Vi.a(n).times(i).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0];0===Number(n)&&(n="")}else n="";0===this.activeTab?this.limitAmount2!==n&&(this.limitAmount2=n<0?0:n,this.watchLimitAmount2()):this.limitAmount1!==n&&(this.limitAmount1=n<0?0:n,this.watchLimitAmount1())}},watchLimitAmount1:function(){var e=this;this.limitQuoteLoading||(Gi&&(clearTimeout(Gi),Gi=null),Gi=setTimeout((function(){var t=e.limitAmount1,i=Number(t);""===t||"."===t?(e.limitAmount1="",e.limitAmount2=""):0===i&&0!==Number(e.limitAmount2)?e.limitAmount2=0:i&&(e.limitAmount2="",e.watchLimitPrice())}),500))},watchLimitAmount2:function(){var e=this;this.limitQuoteLoading||(zi&&(clearTimeout(zi),zi=null),zi=setTimeout((function(){var t=e.limitAmount2,i=Number(t);""===t||"."===t?(e.limitAmount1="",e.limitAmount2=""):0===i&&0!==Number(e.limitAmount1)?e.limitAmount1=0:i&&(e.limitAmount1="",e.watchLimitPrice())}),500))},watchLimitPrice:function(){var e=this;this.supportChainLimit()&&(Number(this.limitPrice)&&(Number(this.limitAmount1)||Number(this.limitAmount2))&&this.limitToken1.address!==this.limitToken2.address&&""!==this.$store.state.wallet?(Wi&&(clearTimeout(Wi),Wi=null),Wi=setTimeout((function(){var t=0===e.activeTab?e.limitToken2:e.limitToken1,i=1===e.activeTab?e.limitToken2:e.limitToken1,o=Vt["utils"].parseUnits((0===e.activeTab?e.limitAmount2:e.limitAmount1)||"0",t.decimals).toString(),n=Vt["utils"].parseUnits((1===e.activeTab?e.limitAmount2:e.limitAmount1)||"0",i.decimals).toString(),a=t.address,l=i.address,s={from_token:a,to_token:l,amountIn:o,amountOut:n};3===e.selected&&(s.extraGas="250000"),e.limitQuoteLoading=!0,Object(Zt["Y"])(s).then((function(t){var o,n,a,l;if(1!==t.toWrapper&&2!==t.toWrapper){e.limitGasU=t.gasU;var s=null===t||void 0===t||null===(o=t.routerPath)||void 0===o||null===(n=o.find)||void 0===n?void 0:n.call(o,(function(t){return t.address===e.limitToken1.address})),c=null===t||void 0===t||null===(a=t.routerPath)||void 0===a||null===(l=a.find)||void 0===l?void 0:l.call(a,(function(t){return t.address===e.limitToken2.address}));if(e.limitToken1.price=s.price,e.limitToken2.price=c.price,new Vi.a((null===s||void 0===s?void 0:s.amount)||0).lte(0)||new Vi.a((null===c||void 0===c?void 0:c.amount)||0).lte(0)||!t.isCanUseGas)e.$dialog.alert({title:e.$t("tips"),message:e.$t("limitOrderAmount"),confirmButtonText:e.$t("okay"),confirmButtonColor:"#558BED"});else{3===e.selected?e.limitAmount1&&e.limitAmount2?0===e.activeTab?e.limitAmount1=Vt["utils"].formatUnits(s.amount,s.decimals):e.limitAmount2=Vt["utils"].formatUnits(c.amount,c.decimals):e.limitAmount1?e.limitAmount2=Vt["utils"].formatUnits(c.amount,c.decimals):e.limitAmount2&&(e.limitAmount1=Vt["utils"].formatUnits(s.amount,s.decimals)):e.limitPrice&&e.limitAmount1&&e.limitAmount2?0===e.activeTab?e.limitAmount1=new Vi.a(Vt["utils"].formatUnits(s.amount,s.decimals)).times(s.price||0).div(e.limitPrice||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken1.decimals,"})?")))[0]:e.limitAmount2=new Vi.a(Vt["utils"].formatUnits(c.amount,c.decimals)).times(e.limitPrice||0).div(s.price||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken2.decimals,"})?")))[0]:e.limitPrice&&e.limitAmount1?e.limitAmount2=new Vi.a(Vt["utils"].formatUnits(c.amount,c.decimals)).times(e.limitPrice||0).div(s.price||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken2.decimals,"})?")))[0]:e.limitPrice&&e.limitAmount2&&(e.limitAmount1=new Vi.a(Vt["utils"].formatUnits(s.amount,s.decimals)).times(s.price||0).div(e.limitPrice||1).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(e.limitToken1.decimals,"})?")))[0]);var r=new Vi.a(e.limitSlippage||0);3===e.selected&&(r=new Vi.a(e.noGasSlippage||0)),r=new Vi.a(1).minus(r.div(100));var d=0===e.activeTab?e.limitAmount1:e.limitAmount2;e.limitMinReturn=new Vi.a(d||0).times(r).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(i.decimals,"})?")))[0]}}else e.limitQuoteLoading=!1})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.limitQuoteLoading=!1}))}),500)):this.limitToken1.address===this.limitToken2.address&&this.$toast({position:"top",message:this.$t("twoIdenticalTokens")}))},minusLimitPrice:function(){this.limitPrice&&new Vi.a(this.limitPrice).gt("0")&&(this.limitPrice=this.$f.formatNumber(new Vi.a(this.limitPrice).times(.99).toFixed()),this.watchLimitPrice())},addLimitPrice:function(){this.limitPrice&&new Vi.a(this.limitPrice).gt("0")&&(this.limitPrice=this.$f.formatNumber(new Vi.a(this.limitPrice).times(1.01).toFixed()),this.watchLimitPrice())},quoteLimitTokenPrice:function(){var e=this,t=this.limitToken1.chain,i=this.limitToken1.address+"-"+t,o=this.limitToken2.address+"-"+t;return Object(Zt["Q"])([i,o]).then(function(){var t=Object(it["a"])(regeneratorRuntime.mark((function t(i){var o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.limitToken1.price=(null===i||void 0===i||null===(o=i[0])||void 0===o?void 0:o.current_price_usd)||0,e.limitToken2.price=(null===i||void 0===i||null===(n=i[1])||void 0===n?void 0:n.current_price_usd)||0,t.abrupt("return",[e.limitToken1.price,e.limitToken2.price]);case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},getLeftHeight:function(){var e=this;this.$nextTick((function(){var t=Object(Ci["o"])(e.$refs.swapLeft),i=t.height;e.height=i}))},handleWalletAddress:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet?window.ethereum?(this.$store.state.importAddressVisible=!1,this.$store.commit("changeConnectVisible",!0)):this.$toast({message:this.$t("browserWalletNotDetected"),position:"top"}):e&&this.$store.commit("changeDisconnectVisible",!0)},handleTaxSlippage:function(){if(1===this.activeTab){var e,t;if(Number(this.autoSlippageValue)>Number(null===(e=this.baseTokenExtra)||void 0===e?void 0:e.sell_tax)+1)return;var i=Math.max(Math.min(Number(null===(t=this.baseTokenExtra)||void 0===t?void 0:t.sell_tax)+1,49.99),.5);this.autoSlippageValue=String(Number(i.toFixed(2)))}else{var o,n;if(Number(this.autoSlippageValue)>Number(null===(o=this.baseTokenExtra)||void 0===o?void 0:o.buy_tax)+1)return;var a=Math.max(Math.min(Number(null===(n=this.baseTokenExtra)||void 0===n?void 0:n.buy_tax)+1,49.99),.5);this.autoSlippageValue=String(Number(a.toFixed(2)))}},onSubmit:function(){try{var e,t,i,o;if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChain())return;var n=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";if(n!==this.netId)return void this.$toast({message:this.$t("plsSwitchChain",{chain:n}),position:"top"});2===this.selected&&(this.isApprove?this.getSwapTx():this.approve())}catch(a){console.log(a)}},getSwapTokenList:function(){var e,t,i,o,n=this,a=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"bsc";Object(Zt["M"])(a).then((function(e){var t,i;(n.tokens=(null===e||void 0===e?void 0:e.map((function(e){return Object(ot["a"])(Object(ot["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token})})))||[],"solana"===a)&&(n.tokens=null===(t=n.tokens)||void 0===t||null===(i=t.filter)||void 0===i?void 0:i.call(t,(function(e){return e.token!==ei["k"]})).sort((function(e,t){return"So11111111111111111111111111111111111111112"===e.token?-1:1})));if((!n.token2.address||n.token1.address===n.token2.address)&&n.tokens.length>0){var o=n.tokens.findIndex((function(e){return/USDT/.test(e.symbol)}));o=o<0?n.tokens.findIndex((function(e){return/USD/.test(e.symbol)})):o,o=o<0?0:o;var l,s=n.tokens[o];if(n.token1.address===s.address)s=0===o&&null!==(l=n.tokens[1])&&void 0!==l?l:n.tokens[0];n.token2=Object(ot["a"])({},s)}if((!n.limitToken2.address||n.limitToken1.address===n.limitToken2.address)&&n.tokens.length>0){var c=n.tokens.findIndex((function(e){return/USDT/.test(e.symbol)}));c=c<0?n.tokens.findIndex((function(e){return/USD/.test(e.symbol)})):c,c=c<0?0:c;var r,d=n.tokens[c];if(n.limitToken1.address===d.address)d=0===c&&null!==(r=n.tokens[1])&&void 0!==r?r:n.tokens[0];n.limitToken2=Object(ot["a"])({},d)}n.getTokenDetails()}))},getUserTokenList:function(){var e,t,i,o,n=this,a=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"bsc";Object(Zt["U"])(a).then((function(e){var t,i,o;"solana"===a?n.userBalanceTokens=null===e||void 0===e?void 0:e.map((function(e){return Object(ot["a"])(Object(ot["a"])({},e),{},{value:e.balance})})):n.userBalanceTokens=null===(t=(null===e||void 0===e||null===(i=e.map((function(e){return Object(ot["a"])(Object(ot["a"])({},e),{},{id:e.token+"-"+e.chain,address:e.token})})))||void 0===i||null===(o=i.filter)||void 0===o?void 0:o.call(i,(function(e){return(e.risk_score||0)<60&&(e.risk_level||0)>=0&&"blacklist"!==e.flag&&""!==e.symbol&&"lp"!==e.flag})))||[])||void 0===t?void 0:t.filter((function(e){return!!Number(e.value)}));n.userBalanceTokens.length>0&&"tron"!==a&&"brc20"!==a&&"solana"!==a&&/^0x[0-9a-zA-Z]{40}$/.test(n.$store.state.currentAccount)&&Object(Zt["k"])(n.userBalanceTokens.map((function(e){return e.token||""})),a).then((function(e){var t,i,o;n.userBalanceTokens=null===(t=n.userBalanceTokens)||void 0===t||null===(i=t.map)||void 0===i||null===(o=i.call(t,(function(t,i){return Object(ot["a"])(Object(ot["a"])({},t),{},{value:Vt["utils"].formatUnits(e[i],t.decimals||0)})})))||void 0===o?void 0:o.filter((function(e){return!!Number(e.value)}))}))}))},getTokenDetails:function(){var e=this;Promise.all([this.getToken2Info(),this.getToken1Info()]).then((function(){0===e.activeTab?e.allowance=e.token2.allowance||"0":e.allowance=e.token1.allowance||"0"}))},getToken2Info:function(){var e,t,i=this;return Object(Zt["N"])(null===(e=this.token2)||void 0===e?void 0:e.address,null===(t=this.token2)||void 0===t?void 0:t.chain,this.$f.getSwapContract(this.$store.getters.netId)).then(function(){var e=Object(it["a"])(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("token2",t),o=Object(ot["a"])({},t),i.token2=Object(ot["a"])(Object(ot["a"])({},i.token2),o),sessionStorage.swap_token2=JSON.stringify(i.token2),i.limitToken2=Object(ot["a"])(Object(ot["a"])({},i.limitToken2),o),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getToken1Info:function(){var e,t,i=this;return Object(Zt["N"])(null===(e=this.token1)||void 0===e?void 0:e.address,null===(t=this.token1)||void 0===t?void 0:t.chain,this.$f.getSwapContract(this.$store.getters.netId)).then(function(){var e=Object(it["a"])(regeneratorRuntime.mark((function e(t){var o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return console.log("token1",t),o=Object(ot["a"])({},t),i.token1=Object(ot["a"])(Object(ot["a"])({},i.token1),o),sessionStorage.swap_token1=JSON.stringify(i.token1),i.limitToken1=Object(ot["a"])(Object(ot["a"])({},i.limitToken1),o),e.abrupt("return",t);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getBaseToken:function(){var e,t,i,o=this,n=(null===(e=this.$route.params)||void 0===e?void 0:e.id)||"",a=null===(t=n.split("-"))||void 0===t?void 0:t[0],l=null===(i=n.split("-"))||void 0===i?void 0:i[1];if(this.token1.address&&(a=this.token1.address),this.token1.chain&&(l=this.token1.chain),a&&l){var s=a+"-"+l,c=Ai["a"].get("chainConfig",ei["l"])||{},r=null===c||void 0===c?void 0:c[l],d=null===r||void 0===r?void 0:r.wmainWrapper,u=null===r||void 0===r?void 0:r.mainName;a===ei["k"]&&l&&d&&(s=d+"-"+l);var m=Object(Zt["E"])(s).then(function(){var e=Object(it["a"])(regeneratorRuntime.mark((function e(t){var i,n,l,c,r,d;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.baseToken=Object(ot["a"])(Object(ot["a"])({},t),a===ei["k"]?{token:Object(ot["a"])(Object(ot["a"])({},t.token),{},{token:a,symbol:u,logoURI:o.$f.formatIcon(s)})}:{}),c=null===t||void 0===t||null===(i=t.pairs)||void 0===i?void 0:i[0],r=null===c||void 0===c?void 0:c.pair,d=null===c||void 0===c?void 0:c.chain,r&&o.getKlineHistory(r+"-"+d),o.token1=Object(ot["a"])(Object(ot["a"])(Object(ot["a"])({},o.token1),{},{address:o.baseToken.token.token},o.baseToken.token),{},{decimals:(null===(n=o.baseToken.token)||void 0===n?void 0:n.decimal)||(null===(l=o.baseToken.token)||void 0===l?void 0:l.decimals)}),sessionStorage.swap_token1=JSON.stringify(o.token1),o.limitToken1=Object(ot["a"])(Object(ot["a"])({},o.limitToken1),{},{address:o.baseToken.token.token},o.baseToken.token),o.getLeftHeight(),o.limitPrice=o.baseToken.token.current_price_usd?o.$f.formatNumber(o.baseToken.token.current_price_usd):"",o.triggerPrice=o.baseToken.token.current_price_usd?o.$f.formatNumber(o.baseToken.token.current_price_usd):"",e.abrupt("return",t);case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),p=Object(Zt["O"])(n).then(function(){var e=Object(it["a"])(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return o.baseTokenExtra=Object(ot["a"])(Object(ot["a"])({},t),{},{buy_tax:Number(Number(t.buy_tax).toFixed(2)),sell_tax:Number(Number(t.sell_tax).toFixed(2))}),o.handleTaxSlippage(),e.abrupt("return",t);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());Promise.all([m,p]).finally((function(){o.$store.dispatch("initWs",s)}));var b=["0xeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeeee-eth","0xc02aaa39b223fe8d0a0e5c4f27ead9083c756cc2-eth","0xdac17f958d2ee523a2206206994597c13d831ec7-eth","0x4fabb145d64652a948d72533023f6e7a623c7c53-eth","0xa0b86991c6218b36c1d19d4a2e9eb0ce3606eb48-eth"];a===ei["k"]||b.includes(n)?(this.hasMEVBot=!1,this.isHotToken=!1):Object(Zt["z"])(n).then((function(e){o.hasMEVBot=(null===e||void 0===e?void 0:e.has_MEVBot)||!1,o.isHotToken=(null===e||void 0===e?void 0:e.is_hot_token)||!1})).catch((function(e){o.hasMEVBot=!1,o.isHotToken=!1}))}},getSelectedRouter:function(e){this.dialogListRouterVisible=!1,this.selectedRouterIndex=e,this.selectedRouter()},getQuoteInfo:function(){var e,t,i,o,n=this,a=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if("Swap"===this.$route.name&&this.supportChain())if(Number(this.fromAmount)||Number(this.toAmount))if(this.token1.address!==this.token2.address){Fi&&(clearTimeout(Fi),Fi=null);var l=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";Fi=setTimeout((function(){n.dealGetQuoteInfo(a,l)}),500)}else this.$toast({position:"top",message:this.$t("twoIdenticalTokens")});else this.quoteLoading=!1},dealGetQuoteInfo:function(e,t){var i=this;if((this.fromAmount||this.toAmount)&&this.fromToken.address&&this.toToken.address){var o,n=this.fromToken.decimals,a=this.toToken.decimals;if("solana"===t)return void this.quoteSolana(e,t);this.quoteLoading=!0;var l={from_token:this.fromToken.address,to_token:this.toToken.address,amountIn:e?Vt["utils"].parseUnits(new Vi.a(this.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n,"})?")))[0],n).toString():0,amountOut:e?0:Vt["utils"].parseUnits(new Vi.a(this.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],a).toString()},s=null===(o=this.baseToken)||void 0===o?void 0:o.pairs,c="";if("core"===t&&(null===s||void 0===s?void 0:s.length)>0){var r;console.log("pairs",s);var d=(null===s||void 0===s||null===(r=s.find)||void 0===r?void 0:r.call(s,(function(e){var t=[e.token0_address,e.token1_address];return t.includes(l.token0_address)||t.includes(l.token1_address)})))||(null===s||void 0===s?void 0:s[0]),u=null===d||void 0===d?void 0:d.amm,m={shadowswap:"0x191e94fa59739e188dce837f7f6978d84727ad01"};c=(null===m||void 0===m?void 0:m[u])||"0x40375c92d9faf44d2f9db9bd9ba41a3317a2404f",console.log("wrapper",c)}Object(Zt["X"])(l,c,t).then((function(e){i.swapPathList=e,i.selectedRouter(e),i.getSwapGas()})).catch((function(t){i.$f.handleError(t),e?i.toAmount="":i.fromAmount="",i.$nextTick((function(){setTimeout((function(){i.quoteLoading=!1,i.countDownFinishReset()}),800)}))}))}},quoteSolana:function(e,t){var i=this;if("solana"===t){var o=this.fromToken.decimals,n=this.toToken.decimals;console.log("fromAmount",this.fromAmount,this.fromToken),console.log("toToken",this.toToken);var a={inputMint:this.fromToken.address,inputDecimals:o,inputMintSymbol:this.fromToken.symbol,inputMintName:this.fromToken.symbol,inputAmount:this.fromAmount||0,outputMint:this.toToken.address,outputDecimals:n,outputMintSymbol:this.toToken.symbol,outputMintName:this.toToken.symbol,amount:e?Vt["utils"].parseUnits(new Vi.a(this.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(o,"})?")))[0],o).toString():Vt["utils"].parseUnits(new Vi.a(this.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n,"})?")))[0],n).toString(),slippageBps:new Vi.a(this.solanaSlippage).times(100).toFixed(0),swapMode:e?"ExactIn":"ExactOut",slippage:this.solanaSlippage||19},l=this.quoteSolanaPreParams.amount&&Object.keys(this.quoteSolanaPreParams).every((function(e){return a[e]===i.quoteSolanaPreParams[e]}));if(l)return;return this.quoteSolanaPreParams=Object(ot["a"])({},a),setTimeout((function(){i.quoteSolanaPreParams={}}),15e3),this.quoteLoading=!0,Object(Ii["g"])(a).then((function(t){var a,l,s,c,r,d,u,m,p,b;(console.log("solanaQuoteResponse",t),t.routeInfo&&t.transaction)?(i.solanaQuoteResponse=t,console.log("amountOut",(null===(s=t.routeInfo)||void 0===s||null===(c=s.amountOut)||void 0===c||null===(r=c.amount)||void 0===r?void 0:r.toFixed())||"0"),i.toAmount=(null===(d=t.routeInfo)||void 0===d||null===(u=d.amountOut)||void 0===u||null===(m=u.amount)||void 0===m?void 0:m.toFixed())||"0",i.quoteSwapTokenPrice()):e?t.outAmount?(i.solanaQuoteResponse=t,i.toAmount=Vt["utils"].formatUnits(t.outAmount||"0",n||(null===(p=i.toToken)||void 0===p?void 0:p.decimals)),i.quoteSwapTokenPrice()):i.$f.handleError("can not get quote"):t.inAmount?(i.solanaQuoteResponse=t,i.fromAmount=Vt["utils"].formatUnits(t.inAmount||"0",o||(null===(b=i.fromToken)||void 0===b?void 0:b.decimals)),i.quoteSwapTokenPrice()):i.$f.handleError("can not get quote");return i.solanaSwapBaseTokenPrice=null===(a=i.baseToken)||void 0===a||null===(l=a.token)||void 0===l?void 0:l.current_price_usd,i.getSwapTx(!1),i.quoteLoading=!1,i.quoteSolanaPreParams={},t})).catch((function(e){return console.log(e),i.$f.handleError((null===e||void 0===e?void 0:e.error)||e),i.$nextTick((function(){setTimeout((function(){i.quoteLoading=!1,i.quoteSolanaPreParams={},i.countDownFinishReset()}),800)})),Promise.resolve("")}))}},quoteSwapTokenPrice:function(){var e=this,t=this.fromToken.chain,i=this.fromToken.address+"-"+t,o=this.toToken.address+"-"+t;return Object(Zt["Q"])([i,o]).then(function(){var t=Object(it["a"])(regeneratorRuntime.mark((function t(i){var o,n,a,l;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a=(null===i||void 0===i||null===(o=i[0])||void 0===o?void 0:o.current_price_usd)||0,l=(null===i||void 0===i||null===(n=i[1])||void 0===n?void 0:n.current_price_usd)||0,e.solanaSwapTokenPrice=[a,l];case 3:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())},selectedRouter:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.swapPathList,i=t[this.selectedRouterIndex],o=t[this.selectedRouterIndex].routerPath,n=this.isAmount,a=this.fromToken.decimals,l=this.toToken.decimals,s=!1;if(n){var c,r=Vt["utils"].parseUnits(new Vi.a(this.fromAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(a,"})?")))[0],a).toString(),d=(null===(c=o[0])||void 0===c?void 0:c.amount)||0;s=r===d}else{var u,m=Vt["utils"].parseUnits(new Vi.a(this.toAmount||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(l,"})?")))[0],l).toString(),p=(null===(u=o[o.length-1])||void 0===u?void 0:u.amount)||0;s=m===p}if(s){if(1===i.from_cannot_sell_all){var b,h=new Vi.a(Vt["utils"].parseUnits(String(this.fromToken.balance),null===(b=this.fromToken)||void 0===b?void 0:b.decimals).toString()),f=new Vi.a(null===i||void 0===i?void 0:i.routerPath[0].amount);this.isCannotSellAll=h.gt(0)&&f.div(h).gt(.99999)}else this.isCannotSellAll=!1;this.isTax=i.totalTax>0||i.total_sell_tax>0||i.total_buy_tax>0;var v=this.getPriceImpact(i);if(this.isTax||v.gt(.5)){this.isTaxHigh=i.total_sell_tax+i.total_buy_tax+1>49.99;var g=i.totalTax||i.total_sell_tax+i.total_buy_tax,O=Number(v);if(this.autoSlippage){var k=g+O+(g>5||O>5?2.5:2);console.log("swapPathList",t),k=Math.max(Math.min(k,49.99),.5),this.autoSlippageValue=String(Number(k.toFixed(2)))}}else this.isTaxHigh=!1,"auto"===this.customSlippage&&(this.autoSlippageValue=Qi);if((i.weight>5e4||i.totalTax>0||i.total_sell_tax>0||i.total_buy_tax>0)&&!this.hasMEVBot?this.autoSwapMode="fast":0===this.activeTab?this.autoSwapMode="protect":this.autoSwapMode="private",console.log("autoSwapMode",this.autoSwapMode),this.swapQuoteInfo=i,this.swapRouterPath=o.map((function(e,t){var o,n;return{symbol:e.symbol,nextAmm:(null===i||void 0===i||null===(o=i.pair_path)||void 0===o||null===(n=o[t])||void 0===n?void 0:n.amm)||""}})),this.listRouter=t.map((function(t){var i=0,o=0;if(n){var a,l=t.routerPath[t.routerPath.length-1];i=Vt["utils"].formatUnits(l.amount||"0",(null===l||void 0===l?void 0:l.decimals)||(null===(a=e.toToken)||void 0===a?void 0:a.decimals))}else{var s=t.routerPath[0];o=Vt["utils"].formatUnits(s.amount||"0",(null===s||void 0===s?void 0:s.decimals)||e.fromToken.decimals)}var c=t.routerPath.map((function(e,i){var o,n;return{symbol:e.symbol,nextAmm:(null===t||void 0===t||null===(o=t.pair_path)||void 0===o||null===(n=o[i])||void 0===n?void 0:n.amm)||""}}));return{path:c,amount:n?i:o,priceImpact:t.priceImpact}})),n){var j,w=o[o.length-1];this.toAmount=Vt["utils"].formatUnits(w.amount||"0",(null===w||void 0===w?void 0:w.decimals)||(null===(j=this.toToken)||void 0===j?void 0:j.decimals))}else{var y,S=o[0];this.fromAmount=Vt["utils"].formatUnits(S.amount||"0",(null===S||void 0===S?void 0:S.decimals)||(null===(y=this.fromToken)||void 0===y?void 0:y.decimals))}var T=i.totalTax||i.total_sell_tax+i.total_buy_tax||0;this.baseTokenPrice=new Vi.a(this.toAmount).div(this.fromAmount).times(100-T).div(100).toFixed(),s&&this.$nextTick((function(){setTimeout((function(){e.quoteLoading=!1,e.countDownFinishReset()}),800)}))}},handleSelectToken2:function(e){sessionStorage.swap_token2=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.autoSlippageValue=Qi,this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",this.getAllowance(),this.getToken2Info()},handleSelectToken1:function(e){sessionStorage.swap_token1=JSON.stringify(e),this.swapRouterPath=[],this.swapQuoteInfo.totalTax=0,this.swapQuoteInfo.total_sell_tax=0,this.swapQuoteInfo.total_buy_tax=0,this.autoSlippageValue=Qi,this.baseTokenPrice=0,this.selectedRouterIndex=0,this.fromAmount="",this.toAmount="",this.getToken1Info(),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}})},handleSelectLimitToken1:function(e){this.autoSlippageValue=Qi,this.limitAmount1="",this.limitAmount2="",this.$refs.percentStep1.handleClick(0),1===this.activeTab&&this.getLimitAllowance(),sessionStorage.swap_token1=JSON.stringify(e),this.token1=Object(ot["a"])({},e),this.$router.replace({name:"Swap",params:{id:((null===e||void 0===e?void 0:e.address)||(null===e||void 0===e?void 0:e.token))+"-"+e.chain,type:this.$route.params.type||""}}).catch((function(e){console.log("err",e)})),this.getToken1Info()},handleSelectLimitToken2:function(e){this.autoSlippageValue=Qi,this.limitAmount1="",this.limitAmount2="",this.$refs.percentStep1.handleClick(0),sessionStorage.swap_token2=JSON.stringify(e),this.token2=Object(ot["a"])({},e),this.getToken2Info(),0===this.activeTab&&this.getLimitAllowance()},getAllowance:function(){var e=this;if(this.$store.getters.netId&&this.$store.getters.netId===this.fromToken.chain&&this.fromToken.address){var t=this.$store.getters.netId;if("solana"===t)return void(this.allowance=ei["i"]);var i=this.$f.getSwapContract(this.$store.getters.netId);this.loadingAllowance=!0,Object(Zt["d"])(this.fromToken.address,i).then((function(t){e.allowance=t.toString()})).finally((function(){e.loadingAllowance=!1}))}},approve:function(){var e=this;return Object(it["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.loadingApprove=!0,"bsc"!==e.$store.getters.netId&&"eth"!==e.$store.getters.netId||e.$f.setSwapSendType("fast"),Object(Zt["g"])(e.fromToken.address).then((function(e){return e.wait()})).then((function(t){console.log(t),e.getAllowance(),e.getGasBalance()})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.loadingApprove=!1,e.$f.setSwapSendType("")}));case 3:case"end":return t.stop()}}),t)})))()},getSwapGas:function(){var e=this;Ui&&(clearTimeout(Ui),Ui=null),Ui=setTimeout((function(){var t,i;e.checkAmount()&&e.isApprove&&e.$store.state.currentAccount&&!e.loadingSwap&&(null===(t=e.swapQuoteInfo)||void 0===t||null===(i=t.routerPath)||void 0===i?void 0:i.length)>0&&(Object(Zt["db"])(e.swapQuoteInfo,e.slippage).then(function(){var t=Object(it["a"])(regeneratorRuntime.mark((function t(i){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.swapSubmitInfo=i,e.swapInfo=i.swapInfo,e.swapInfo.gasValue=i.gasValue,console.log("gasValue",i.gasValue),e.swapInfo.swapRouterPath=e.swapRouterPath;case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()).catch((function(t){e.$f.handleError(t)})),e.getNativeTokenPrice(),e.getGasPrice())}),1e3)},getSwapTx:function(){var e,t,i=this,o=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];if(Ui&&(clearTimeout(Ui),Ui=null),this.checkAmount())if("solana"===this.chain){var n=[this.fromToken,this.toToken].map((function(e,t){return{symbol:e.symbol,nextAmm:""}}));this.swapInfo={swapRouterPath:n,fromAmount:this.fromAmount,toAmount:this.toAmount,fromToken:this.fromToken,toToken:this.toToken},o&&(this.dialogVisibleSwap=!0)}else(null===(e=this.swapQuoteInfo)||void 0===e||null===(t=e.routerPath)||void 0===t?void 0:t.length)>0&&(this.loadingSwap=!0,Object(Zt["db"])(this.swapQuoteInfo,this.slippage,this.activeTab).then(function(){var e=Object(it["a"])(regeneratorRuntime.mark((function e(t){var n,a,l,s;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:i.swapSubmitInfo=t,i.swapInfo=t.swapInfo,i.swapInfo.gasValue=t.gasValue,i.swapInfo.swapRouterPath=i.swapRouterPath,i.swapInfo.subTxs=t.subTxs,i.loadingSwap=!1,o&&(s=(null===(n=window)||void 0===n||null===(a=n._tw_)||void 0===a||null===(l=a.appGetFreePay)||void 0===l?void 0:l.call(a))||!1,s=s&&"false"!==s,s?i.submitSwap():i.dialogVisibleSwap=!0);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch((function(e){i.loadingSwap=!1,i.$f.handleError(e)})),this.getNativeTokenPrice(),this.getGasPrice());else this.$dialog.alert({title:this.$t("tips"),message:this.checkAmountMessage(),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})},submitSwap:function(){var e=arguments,t=this;return Object(it["a"])(regeneratorRuntime.mark((function i(){var o,n,a,l,s,c;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if(o=e.length>0&&void 0!==e[0]?e[0]:t.swapSubmitInfo,i.prev=1,"solana"!==t.chain){i.next=5;break}return t.submitSolanaSwap(),i.abrupt("return");case 5:return t.loadingConfirmSwap=!0,t.loadingSwap=!0,console.log("swapSubmitInfo",o),i.next=10,o.swapCallStatic();case 10:n=i.sent,console.log("swapCallStaticResult",n.toString()),a=o.swapInfo,l=!(a.fromToken.isWrapper&&a.toToken.isETH||a.toToken.isWrapper&&a.fromToken.isETH),console.log("isSwap",l),s={from_address:a.fromToken.address,from_symbol:a.fromToken.symbol,from_amount:Number(Vt["utils"].formatUnits(a.fromTokenAmount||0,a.fromToken.decimals)),to_address:a.toToken.address,to_symbol:a.toToken.symbol,to_amount:Number(Vt["utils"].formatUnits(a.toTokenAmount||0,a.toToken.decimals)),chain:t.netId,transaction:"",wallet_address:t.$store.state.currentAccount},c={},"bsc"!==t.$store.getters.netId&&"eth"!==t.$store.getters.netId||(console.log("set swapMode",t.swapMode||"fast"),t.$f.setSwapSendType(t.swapMode||"fast")),o.swap().then((function(e){var i,n,r;console.warn("swap confirm time end",t.$f.formatDate(Date.now())),console.log("---confirm transaction---",e),t.swapInfo.transaction=e.hash,l&&(s.transaction=e.hash,c={time:parseInt(Date.now()/1e3),id:s.transaction,chain:t.netId,transaction:e.hash,from_address:s.from_address,from_price_eth:0,from_price_usd:"",from_symbol:a.fromToken.symbol,from_amount:Number(Vt["utils"].formatUnits(a.fromTokenAmount||0,a.fromToken.decimals)),to_address:s.to_address,to_price_eth:0,to_price_usd:"",to_symbol:a.toToken.symbol,to_amount:Number(Vt["utils"].formatUnits(a.toTokenAmount||0,a.toToken.decimals)),is_merged:0},t.initTxs.unshift(c)),t.loadingSwap=!1,t.loadingConfirmSwap=!1,t.fromAmount="",t.toAmount="",null===(i=t.$refs)||void 0===i||null===(n=i.percentStep)||void 0===n||null===(r=n.handleClick)||void 0===r||r.call(n,0),t.dialogVisibleSwap=!1;try{Object(Zt["f"])(o.subTxs)}catch(d){console.log(d)}return e.wait()})).then((function(e){return console.warn("swap transaction end",t.$f.formatDate(Date.now())),console.log("----transaction---",e),1===e.status?(t.$notify({type:"success",message:t.$t("tradeSuccess")}),t.getTokenDetails(),t.getUserTokenList(),t.getAllowance(),l&&(t.initTxs.forEach((function(t){t.transaction===e.transactionHash&&(t.is_merged=1,t.time=parseInt(Date.now()/1e3))})),t.getUserAllTxs(c)),t.getGasBalance()):(t.$notify({type:"danger",message:t.$t("tradeFail")}),l&&(t.initTxs=t.initTxs.filter((function(t){return t.transaction!==e.transactionHash})))),t.$f.setSwapSendType(""),e})).catch((function(e){t.$refs.countDown.reset(),t.loadingSwap=!1,t.loadingConfirmSwap=!1,l&&t.getUserAllTxs(),t.$f.handleError(e,"swap"),t.$f.setSwapSendType("")})),i.next=27;break;case 21:i.prev=21,i.t0=i["catch"](1),t.loadingSwap=!1,t.loadingConfirmSwap=!1,t.$f.handleError(i.t0,"swap"),t.$f.setSwapSendType("");case 27:case"end":return i.stop()}}),i,null,[[1,21]])})))()},submitSolanaSwap:function(){var e=this;return Object(it["a"])(regeneratorRuntime.mark((function t(){var i,o,n,a,l,s,c,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(t.prev=0,e.loadingConfirmSwap=!0,e.loadingSwap=!0,n=(null===(i=e.baseToken)||void 0===i||null===(o=i.token)||void 0===o?void 0:o.current_price_usd)||0,a=!e.solanaSwapBaseTokenPrice||new Vi.a(n).minus(e.solanaSwapBaseTokenPrice).times(100).div(e.solanaSwapBaseTokenPrice).abs().gt(e.solanaSlippage),console.log("price",n,e.solanaSwapBaseTokenPrice,a),!a){t.next=9;break}return t.next=9,e.quoteSolana(e.isAmount,"solana");case 9:l=e.swapInfo,s={from_address:l.fromToken.address,from_symbol:l.fromToken.symbol,from_amount:Number(Vt["utils"].formatUnits(l.fromTokenAmount||0,l.fromToken.decimals)),to_address:l.toToken.address,to_symbol:l.toToken.symbol,to_amount:Number(Vt["utils"].formatUnits(l.toTokenAmount||0,l.toToken.decimals)),chain:e.netId,transaction:"",wallet_address:e.$store.state.currentAccount},c={},setTimeout((function(){e.dialogVisibleSwap||(e.loadingSwap=!1,e.loadingConfirmSwap=!1)}),6e3),r=!0,Object(Ii["j"])(e.solanaQuoteResponse).then((function(t){var i,o,n,a,d;(console.warn("swap confirm time end",e.$f.formatDate(Date.now())),console.log("---confirm transaction---",t),e.swapInfo.transaction=t.hash,r)&&(s.transaction=t.hash,c={time:parseInt(Date.now()/1e3),id:s.transaction,chain:e.netId,transaction:t.hash,from_address:s.from_address,from_price_eth:0,from_price_usd:"",from_symbol:l.fromToken.symbol,from_amount:l.fromAmount,to_address:s.to_address,to_price_eth:0,to_price_usd:"",to_symbol:l.toToken.symbol,to_amount:l.toAmount,is_merged:0,wallet_address:e.$store.state.currentAccount||""},e.solanaTxs.unshift(c),e.solanaTxs=null===(a=e.solanaTxs)||void 0===a||null===(d=a.slice)||void 0===d?void 0:d.call(a,0,500));return e.loadingSwap=!1,e.loadingConfirmSwap=!1,e.fromAmount="",e.toAmount="",null===(i=e.$refs)||void 0===i||null===(o=i.percentStep)||void 0===o||null===(n=o.handleClick)||void 0===n||n.call(o,0),e.dialogVisibleSwap=!1,t.wait()})).then((function(t){if(console.warn("swap transaction end",e.$f.formatDate(Date.now())),console.log("----transaction---",t),t){var i=Object(Ii["i"])(t,l.fromToken.address,l.toToken.address),o=Object(at["a"])(i,2),n=o[0],a=o[1];e.$notify({type:"success",message:e.$t("tradeSuccess")}),e.getTokenDetails(),e.getUserTokenList(),r&&(e.solanaTxs=e.solanaTxs.slice().map((function(e){var i,o=Object(ot["a"])({},e);return e.transaction===(null===t||void 0===t||null===(i=t.transaction)||void 0===i?void 0:i.signatures[0])&&(o.is_merged=1,o.time=null===t||void 0===t?void 0:t.blockTime,n&&Number(n)>0&&(o.from_amount=n),a&&Number(a)>0&&(o.to_amount=a)),o})))}else e.$notify({type:"danger",message:e.$t("tradeFail")}),r&&(e.solanaTxs=e.solanaTxs.filter((function(e){return e.transaction!==t.transactionHash})));return e.$f.setSwapSendType(""),t})).catch((function(t){if("Timeout"===(t||(null===t||void 0===t?void 0:t.message)))e.solanaTxs=e.solanaTxs.map((function(e){return e.transaction===s.transaction?Object(ot["a"])(Object(ot["a"])({},e),{},{status:"timeout"}):Object(ot["a"])({},e)}));else if("Swap fail"===(t||(null===t||void 0===t?void 0:t.message)))e.solanaTxs=e.solanaTxs.map((function(e){return e.transaction===s.transaction?Object(ot["a"])(Object(ot["a"])({},e),{},{status:"fail"}):Object(ot["a"])({},e)}));else{var i,o;e.solanaTxs=(null===(i=e.solanaTxs)||void 0===i||null===(o=i.filter)||void 0===o?void 0:o.call(i,(function(e){return e.transaction!==s.transaction})))||[]}e.solanaSwapBaseTokenPrice=0,e.$refs.countDown.reset(),e.loadingSwap=!1,e.loadingConfirmSwap=!1,e.$f.handleError(t,"solana"),e.$f.setSwapSendType("")})),t.next=24;break;case 17:t.prev=17,t.t0=t["catch"](0),e.solanaSwapBaseTokenPrice=0,e.loadingSwap=!1,e.loadingConfirmSwap=!1,e.$f.handleError(t.t0,"solana"),e.$f.setSwapSendType("");case 24:case"end":return t.stop()}}),t,null,[[0,17]])})))()},checkAmount:function(){if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return!0;var e=this.fromToken.balance||0;return!(0===Number(e)||Number(e)<Number(this.fromAmount)||""===this.$store.state.wallet||"0"===String(this.fromAmount)||this.token1.address===this.token2.address)},checkAmountMessage:function(){var e,t,i=this.fromToken.balance||0;return this.$store.state.currentAccount?!this.$store.state.currentAccount||window.ethereum||null!==(e=window)&&void 0!==e&&e.solana||null!==(t=window.trustwallet)&&void 0!==t&&t.solana?0===Number(i)||Number(i)<Number(this.fromAmount)||!this.$store.state.currentAccount?this.$t("insufficientBalance"):"0"===String(this.fromAmount)?this.$t("AmountCannotBeZero"):void 0:this.$t("observeAddressNotSwap"):this.$t("pConnectWallet")},getNativeTokenPrice:function(){var e,t,i,o,n,a,l,s,c=this;if(this.$store.getters.netId===(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])){var r=this.$store.getters.netId||(null===(n=this.$route.params)||void 0===n||null===(a=n.id)||void 0===a||null===(l=a.split)||void 0===l||null===(s=l.call(a,"-"))||void 0===s?void 0:s[1])||"";Object(Zt["F"])(r).then((function(e){var t;c.nativePrice=e;var i=(null===(t=c.gasSetting)||void 0===t?void 0:t[r])||{};c.gasSetting=Object(ot["a"])(Object(ot["a"])({},c.gasSetting),{},Object(tt["a"])({},r,Object(ot["a"])(Object(ot["a"])({},i),{},{nativePrice:e}))),Ai["a"].set("gasSetting",c.gasSetting)}))}},getKlineHistory:function(e){var t,i,o,n,a=this;Object(Zt["A"])(e,"1",(null===(t=this.$route.params)||void 0===t||null===(i=t.id)||void 0===i||null===(o=i.split)||void 0===o||null===(n=o.call(i,"-"))||void 0===n?void 0:n[1])||"").then((function(e){var t,i=(null===e||void 0===e||null===(t=e.slice)||void 0===t?void 0:t.call(e,-10))||[];a.dataX=i.map((function(e){return e.time})),a.dataY=i.map((function(e){return e.close}))}))},getUserAllTxs:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,i=this.$store.state.currentAccount;i&&(this.txsLoading=!0,Object(Zt["S"])().then((function(i){var o,n,a,l,s=Array.isArray(i)?i:[],c=t&&!(null!==s&&void 0!==s&&null!==(o=s.some)&&void 0!==o&&o.call(s,(function(e){return e.transaction===t.transaction})))&&Date.now()-1e3*t.time<6e5;c&&setTimeout((function(){e.getUserAllTxs(t)}),1e4),s.length>0&&(e.initTxs=(null===s||void 0===s?void 0:s.map((function(e){return e.id?Object(ot["a"])({},e):Object(ot["a"])(Object(ot["a"])({},e),{},{id:e.transaction})})))||[]),!c||null!==(n=(a=e.initTxs).some)&&void 0!==n&&n.call(a,(function(e){return e.transaction===t.transaction}))||e.initTxs.unshift(t);var r=[],d={};null===s||void 0===s||null===(l=s.forEach)||void 0===l||l.call(s,(function(e){d[e.from_address]||(r.push({address:e.from_address,symbol:e.from_symbol,chain:e.chain}),d[e.from_address]=!0),d[e.to_address]||(r.push({address:e.to_address,symbol:e.to_symbol,chain:e.chain}),d[e.to_address]=!0)})),e.txsTokens=r,sessionStorage.txsTokens=JSON.stringify(r||[])})).finally((function(){e.txsLoading=!1})))},alertTips:function(e,t){this.$dialog.alert({title:e,message:t,confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED"}).then((function(){}))},alertSupportChainTips:function(e){var t,i,o=arguments.length>1&&void 0!==arguments[1]&&arguments[1];o?this.$dialog.confirm({title:"",message:e,confirmButtonText:null!==(t=window)&&void 0!==t&&null!==(i=t._tw_)&&void 0!==i&&i.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){var e,t,i,o;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(i=window)||void 0===i||null===(o=i._tw_)||void 0===o||o.appSwitchChain())})):this.$dialog.alert({title:"",message:e,confirmButtonText:this.$t("getIt"),confirmButtonColor:"#558BED"})},supportChain:function(){if("Swap"===this.$route.name){var e,t,i,o,n,a,l,s,c,r,d,u,m,p,b,h,f,v,g,O=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"",k=Object.keys(ei["x"]),j=Ai["a"].get("chainConfig",ei["l"])||{},w=null===k||void 0===k||null===(n=k.map)||void 0===n||null===(a=n.call(k,(function(e){var t;return null===j||void 0===j||null===(t=j[e])||void 0===t?void 0:t.name})))||void 0===a||null===(l=a.join)||void 0===l?void 0:l.call(a,", "),y=null===j||void 0===j||null===(s=j[O])||void 0===s?void 0:s.name;if("solana"===O)return!0;if(!this.$store.getters.netId&&this.$store.state.chainId)return this.alertSupportChainTips(this.$t("notYetSupportedChainTips",{chains:w}),!0),!1;if(null!==(c=this.$store.state.currentAccount)&&void 0!==c&&null!==(r=c.startsWith)&&void 0!==r&&r.call(c,"T"))return this.alertSupportChainTips(this.$t("notYetSupportedChainTips1",{chain:"TRON",chains:w})),!1;if(O&&(null===k||void 0===k||null===(d=k.includes)||void 0===d||!d.call(k,O)))return this.alertSupportChainTips(this.$t("notYetSupportedChainTips1",{chain:y,chains:w}),!0),!1;if(console.log(this.$store.getters.netId,null===(u=this.$route.params)||void 0===u||null===(m=u.id)||void 0===m||null===(p=m.split)||void 0===p||null===(b=p.call(m,"-"))||void 0===b?void 0:b[1]),(null===(h=this.$route.params)||void 0===h||null===(f=h.id)||void 0===f||null===(v=f.split)||void 0===v||null===(g=v.call(f,"-"))||void 0===g?void 0:g[1])!==this.$store.getters.netId&&this.$store.getters.netId)return this.alertSupportChainTips(this.$t("chainNotSame"),!0),!1}return!0},getGasPrice:function(){var e,t,i,o,n,a,l,s,c,r=this,d=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";"evm"!==localStorage.okxwallet_chain&&(window.solana||null!==(n=window)&&void 0!==n&&null!==(a=n.trustwallet)&&void 0!==a&&a.solana&&(null===(l=window.ethereum)||void 0===l||null===(s=l.address)||void 0===s||null===(c=s.startsWith)||void 0===c||!c.call(s,"0x"))&&window.ethereum.address)&&(d="solana"),"solana"!==d&&Object(Zt["w"])(d).then((function(e){var t,i,o=e.toString();"bsc"===d&&null!==e&&void 0!==e&&null!==(t=e.lt)&&void 0!==t&&t.call(e,"3000000000")&&(o="3000000000"),r.gasPrice=o;var n=(null===(i=r.gasSetting)||void 0===i?void 0:i[d])||{};r.gasSetting=Object(ot["a"])(Object(ot["a"])({},r.gasSetting),{},Object(tt["a"])({},d,Object(ot["a"])(Object(ot["a"])({},n),{},{gasPrice:o}))),Ai["a"].set("gasSetting",r.gasSetting)})).catch((function(e){console.log(e),r.gasPrice="0","bsc"===d&&(r.gasPrice="3000000000")}))},getPriceImpact:function(e){if(!Number(this.fromAmount)&&!Number(this.toAmount))return new Vi.a(0);var t=e.routerPath,i=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[0]:null,o=(null===t||void 0===t?void 0:t.length)>0?null===t||void 0===t?void 0:t[t.length-1]:null;if(i&&o){var n=e.from_price,a=e.to_price,l=Vt["utils"].formatUnits(i.amount,i.decimals),s=Vt["utils"].formatUnits(o.amount,o.decimals);return new Vi.a(l).times(n).div(new Vi.a(s).times(a)).minus(1).abs().times(100)}return new Vi.a(0)},goAudit:function(){this.$f.openBrowser("https://beosin.com/audits/SwapFinder_202209021725.pdf")},onCountDownFinish:function(){2===this.selected&&this.token1.address!==this.token2.address&&(this.loadingConfirmSwap||this.loadingApprove||"hidden"===document.visibilityState?this.$refs.countDown.reset():this.isAmount?this.watchFromAmount():this.watchToAmount())},countDownFinishReset:function(){this.$refs.countDown.reset(),this.dialogVisibleSwap&&this.isApprove&&!this.loadingConfirmSwap&&this.getSwapTx(!1)},appSwitchChain:function(e){var t,i,o,n;null!==(t=window)&&void 0!==t&&null!==(i=t._tw_)&&void 0!==i&&i.appSwitchChain&&(null===(o=window)||void 0===o||null===(n=o._tw_)||void 0===n||n.appSwitchChain(),e.stopPropagation())},formatPriceImpactColor:function(e){return e>40?"#F81111":e>10?"#F7933F":e>5?"#f8be46":""},goLiquidity:function(){var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.openLp){var i,o,n,a,l,s,c=Ai["a"].get("chainConfig",ei["l"])||{},r=this.$store.getters.netId||(null===(i=this.$route.params)||void 0===i||null===(o=i.id)||void 0===o||null===(n=o.split)||void 0===n||null===(a=n.call(o,"-"))||void 0===a?void 0:a[1])||"",d=null===c||void 0===c?void 0:c[r],u=null===d||void 0===d?void 0:d.wmainWrapper,m=null===(l=c[r])||void 0===l?void 0:l.swaps,p=null===(s=this.baseToken)||void 0===s?void 0:s.pairs,b=p.find((function(e){return m.some((function(t){return t.name===e.amm&&t.router_address}))}));if(b){var h,f,v=b.token0_address===u?ei["k"]:b.token0_address,g=b.token1_address===u?ei["k"]:b.token1_address,O=b.amm;null===(h=window)||void 0===h||null===(f=h._tw_)||void 0===f||f.openLp(v,g,O)}else{var k,j,w,y,S=this.tokenInfo.address||(null===(k=this.baseToken)||void 0===k||null===(j=k.token)||void 0===j?void 0:j.token)||"";S=S===u?ei["k"]:S,null===(w=window)||void 0===w||null===(y=w._tw_)||void 0===y||y.openLp(S,"","")}}},checkLimitAmount:function(){var e=0===this.activeTab?this.limitToken2:this.limitToken1;if(e.address===ei["k"]&&3===this.selected)return!1;var t=e.balance||0,i=0===this.activeTab?this.limitAmount2:this.limitAmount1;return!(0===Number(t)||Number(t)<Number(i)||""===this.$store.state.wallet||"0"===String(i)||this.limitToken1.address===this.limitToken2.address)},checkLimitAmountMessage:function(){var e,t,i=0===this.activeTab?this.limitToken2:this.limitToken1;if(i.address===ei["k"]&&3===this.selected)return this.$t("noSNativeToken");var o=i.balance||0,n=0===this.activeTab?this.limitAmount2:this.limitAmount1;return this.$store.state.currentAccount?!this.$store.state.currentAccount||window.ethereum||null!==(e=window)&&void 0!==e&&e.solana||null!==(t=window.trustwallet)&&void 0!==t&&t.solana?Number(0===o||Number(o)<Number(n)||""===this.$store.state.wallet)?this.$t("insufficientBalance"):"0"===String(n)?this.$t("AmountCannotBeZero"):"":this.$t("observeAddressNotSwap"):this.$t("pConnectWallet")},getLimitAllowance:function(){var e=this,t=0===this.activeTab?this.limitToken2:this.limitToken1;if(this.$store.getters.netId&&this.$store.getters.netId===t.chain&&t.address){var i=t.chain||this.$store.getters.netId;if("solana"===i)return;var o=ei["u"][i];this.loadingLimitAllowance=!0,Object(Zt["d"])(t.address,o).then((function(t){e.limitAllowance=t.toString(),console.log("limitAllowance",e.limitAllowance)})).finally((function(){e.loadingLimitAllowance=!1}))}},getLimitOrder:function(){var e=this;if(this.$store.getters.netId){var t=this.limitToken1.chain||this.$store.getters.netId||"bsc";this.loadingGetLimitOrder=!0,Object(Zt["C"])({chain:t}).then((function(t){e.limitOrders=t})).finally((function(){setTimeout((function(){e.loadingGetLimitOrder=!1}),800)}))}},refreshLimit:function(e){this.getLimitOrder(),e.from_token===ei["k"]&&(e.from_token===this.limitToken1.address?this.getToken1Info():e.from_token===this.limitToken2.address&&this.getToken2Info())},approveLimit:function(){var e=this;return Object(it["a"])(regeneratorRuntime.mark((function t(){var i,o,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.supportChainLimit()){t.next=2;break}return t.abrupt("return");case 2:e.loadingLimitApprove=!0,i=e.limitToken1.chain||e.$store.getters.netId||"bsc",o=ei["u"][i],n=0===e.activeTab?e.limitToken2:e.limitToken1,"bsc"!==e.$store.getters.netId&&"eth"!==e.$store.getters.netId||e.$f.setSwapSendType("fast"),Object(Zt["g"])(n.address,o).then((function(e){return e.wait()})).then((function(t){console.log(t),e.getLimitAllowance(),e.getGasBalance()})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.loadingLimitApprove=!1,e.$f.setSwapSendType("")}));case 8:case"end":return t.stop()}}),t)})))()},supportChainLimit:function(){if("Swap"===this.$route.name){var e,t,i,o,n,a,l,s,c,r,d,u,m,p=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"",b=Object.keys(ei["u"]),h=Ai["a"].get("chainConfig",ei["l"])||{},f=b.map((function(e){return h[e].name})).join(", ");if(null!==(n=this.$store.state.currentAccount)&&void 0!==n&&null!==(a=n.startsWith)&&void 0!==a&&a.call(n,"T")||p&&(null===b||void 0===b||null===(l=b.includes)||void 0===l||!l.call(b,p))){this.$t("notYetSupportedChainNoGasTips",{chains:f});return this.$toast({message:this.$t("notYetSupportedChainLimitTips",{chains:f}),position:"top"}),!1}if((null===(s=this.$route.params)||void 0===s||null===(c=s.id)||void 0===c||null===(r=c.split)||void 0===r||null===(d=r.call(c,"-"))||void 0===d?void 0:d[1])!==this.$store.getters.netId&&this.$store.getters.netId)return this.$dialog.confirm({title:"",message:this.$t("chainNotSame"),confirmButtonText:null!==(u=window)&&void 0!==u&&null!==(m=u._tw_)&&void 0!==m&&m.appSwitchChain?this.$t("switchChain"):this.$t("getIt"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){var e,t,i,o;null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appSwitchChain&&(null===(i=window)||void 0===i||null===(o=i._tw_)||void 0===o||o.appSwitchChain())})),!1}return!0},onLimitSubmit:function(){try{var e,t,i,o;if(""===this.$store.state.wallet||"importAddress"===this.$store.state.wallet)return void this.handleWalletAddress();if(!this.supportChainLimit())return;var n=this.$store.getters.netId||(null===(e=this.$route.params)||void 0===e||null===(t=e.id)||void 0===t||null===(i=t.split)||void 0===i||null===(o=i.call(t,"-"))||void 0===o?void 0:o[1])||"";if(n!==this.netId)return void this.$toast({message:this.$t("plsSwitchChain",{chain:n}),position:"top"});0!==this.selected&&1!==this.selected&&3!==this.selected||(this.isLimitApprove||3===this.selected?this.openConfirmLimit():this.approveLimit())}catch(a){console.log(a)}},openConfirmLimit:function(){var e=0===this.activeTab?this.limitToken2:this.limitToken1,t=0===this.activeTab?this.limitToken1:this.limitToken2,i=0===this.activeTab?this.limitAmount2:this.limitAmount1,o=0===this.activeTab?this.limitAmount1:this.limitAmount2,n=0===this.activeTab?this.limitToken1.decimals:this.limitToken2.decimals;if(e.address===ei["k"]){var a=window.navigator.userAgent;if(a.includes("OSType/2")){var l=a.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),s=Pi.lte(l,"2.4.0");if(s)return void this.$dialog.alert({title:this.$t("tips"),message:this.$t("limitOrderTips1"),confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})}}var c=new Vi.a(this.limitSlippage||0);3===this.selected&&(c=new Vi.a(this.noGasSlippage||0)),c=new Vi.a(1).minus(c.div(100));var r=new Vi.a(ei["v"][e.chain||this.$store.getters.netId]||0).times(5);r=r.gte(3)?r.gte(50)?new Vi.a(50):r:new Vi.a(3);var d=new Vi.a(i).times(e.price).gte(r.times(.999));if(!d){var u=this.$t("minimumTransactionAmount",{n:r.toFixed()});return 3===this.selected&&(u=this.$t("minimumTransactionNoGasAmount",{n:r.toFixed()})),void this.$dialog.alert({title:this.$t("tips"),message:u,confirmButtonText:this.$t("okay"),confirmButtonColor:"#558BED"})}this.limitInfo={orderType:3===this.selected?2:this.selected,fromToken:e,toToken:t,fromAmount:i,toAmount:o,targetToken:this.limitToken1.address,targetTokenInfo:this.limitToken1,targetLimitPrice:this.limitPrice,triggerPrice:this.triggerPrice,activeTab:this.activeTab,minReturn:new Vi.a(o||0).times(c).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n,"})?")))[0],slippage:3===this.selected?this.noGasSlippage:this.limitSlippage},console.log("limitInfo",this.limitInfo),this.dialogVisibleLimit=!0},submitLimitOrder:function(){var e=this;if(this.supportChainLimit()){var t=new Vi.a(this.limitSlippage||0);3===this.selected&&(t=new Vi.a(this.noGasSlippage||0)),t=new Vi.a(1).minus(t.div(100));var i=this.$store.state.currentAccount;console.log("maker",i);var o=0===this.activeTab?this.limitToken2:this.limitToken1,n=0===this.activeTab?this.limitToken1:this.limitToken2,a=0===this.activeTab?this.limitAmount2:this.limitAmount1,l=0===this.activeTab?this.limitAmount1:this.limitAmount2,s=o.address,c=Vt["utils"].parseUnits(new Vi.a(a||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(o.decimals,"})?")))[0],o.decimals).toString(),r=n.address,d=Vt["utils"].parseUnits(new Vi.a(l||0).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n.decimals,"})?")))[0],n.decimals).toString(),u=Vt["utils"].parseUnits(new Vi.a(l||0).times(t).toFixed().match(new RegExp("[0-9]*(\\.[0-9]{0,".concat(n.decimals,"})?")))[0],n.decimals).toString(),m=this.limitToken1.address,p=this.limitPrice;this.loadingConfirmLimit=!0;var b=3===this.selected?2:this.selected,h=this.triggerPrice,f=this.baseToken.token.current_price_usd?this.$f.formatNumber(this.baseToken.token.current_price_usd):"";if(3===this.selected){var v={chain:this.$store.getters.netId,from_token:s,from_amount:c,to_token:r,to_amount:d,maker:i,to_min_amount:u,target_token:m,target_limit_price:"0",trigger_price:"0",current_price:"0",order_type:2,open_time:0};Object(Zt["e"])(v).then((function(t){console.log("appExchangeNoGas result",t),t?setTimeout((function(){e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1,e.$toast.success(e.$t("transactionsSubmitted")),e.limitAmount1="",e.limitAmount2="",e.getNoGasList(!0)}),1e3):(e.loadingConfirmLimit=!1,e.$toast({message:e.$t("fail"),type:"fail"}))})).catch((function(t){console.log(t),e.loadingConfirmLimit=!1,e.$f.handleError(t)}))}else Object(Zt["cb"])(i,s,c,r,u,d,m,p,b,h,f).then((function(t){console.log(t),e.$notify({type:"success",message:e.$t("submitOrdersSuccess")}),e.getLimitOrder(),e.limitAmount1="",e.limitAmount2="",e.getGasBalance(),s===ei["k"]&&(s===e.limitToken1.address?e.getToken1Info():s===e.limitToken2.address&&e.getToken2Info())})).catch((function(t){e.$f.handleError(t)})).finally((function(){e.loadingConfirmLimit=!1,e.dialogVisibleLimit=!1}))}},getAvgPrice:function(){if(!this.fromAmount||!this.toAmount)return"--";var e=this.fromAmount,t=this.toAmount;if(this.isTax){var i,o,n,a,l=(null===(i=this.swapQuoteInfo)||void 0===i?void 0:i.totalTax)||((null===(o=this.swapQuoteInfo)||void 0===o?void 0:o.total_sell_tax)||0)+((null===(n=this.swapQuoteInfo)||void 0===n?void 0:n.total_buy_tax)||0);l=Math.min(49,l),null!==(a=this.swapQuoteInfo)&&void 0!==a&&a.isAmountOut?e=new Vi.a(e).times(100+l).div(100):t=new Vi.a(t).times(100-l).div(100)}var s="solana"===this.chain?this.solanaSwapTokenPrice[0]:this.swapQuoteInfo.from_price,c="solana"===this.chain?this.solanaSwapTokenPrice[1]:this.swapQuoteInfo.to_price;return s&&c?0===this.activeTab?this.$f.formatNumber2(e/t/(c/s)*c):1===this.activeTab?this.$f.formatNumber2(t/e/(s/c)*s):void 0:"--"},onSubmitSlippage:function(e){this.slippageInfo=e,this.autoSlippage!==e.autoSlippage&&e.autoSlippage?(this.slippage=Qi,localStorage.slippage=JSON.stringify(e.slippage),this.onCountDownFinish()):(this.slippage=e.slippage,localStorage.slippage=JSON.stringify(e.slippage)),this.autoSlippage=e.autoSlippage,localStorage.autoSlippage=JSON.stringify(e.autoSlippage)},onSubmitLimitSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.limitSlippage=(null===e||void 0===e?void 0:e.slippage)||"5")},onSubmitNoGasSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.noGasSlippage=(null===e||void 0===e?void 0:e.slippage)||"5")},minusTriggerPrice:function(){this.triggerPrice&&new Vi.a(this.triggerPrice).gt("0")&&(this.triggerPrice=this.$f.formatNumber(new Vi.a(this.triggerPrice).times(.99).toFixed()))},addTriggerPrice:function(){this.limitPrice&&new Vi.a(this.triggerPrice).gt("0")&&(this.triggerPrice=this.$f.formatNumber(new Vi.a(this.triggerPrice).times(1.01).toFixed()))},getNoGasList:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],i={account:this.$store.state.currentAccount,chain:this.$store.getters.netId};if(null!==i&&void 0!==i&&i.account&&null!==i&&void 0!==i&&i.chain){var o={maker:null===i||void 0===i?void 0:i.account,chain:null===i||void 0===i?void 0:i.chain};this.loadingGetNoGasList=!0,this.isHasUnTx=!0,Object(Zt["G"])(o).then((function(i){var o,n;e.noGasTxList=i||[],e.isHasUnTx=null===(o=e.noGasTxList)||void 0===o||null===(n=o.some)||void 0===n?void 0:n.call(o,(function(e){return 0===e.status||-1===e.status})),!e.isHasUnTx&&t&&(e.getUserTokenList(),e.getGasBalance(),e.getTokenDetails())})).finally((function(){setTimeout((function(){e.loadingGetNoGasList=!1}),800),Mi&&(clearTimeout(Mi),Mi=null),Mi=setTimeout((function(){var i,o;null!==(i=e.noGasTxList)&&void 0!==i&&null!==(o=i.some)&&void 0!==o&&o.call(i,(function(e){return 0===e.status||-1===e.status}))&&e.getNoGasList(t)}),1e4)}))}},getGasBalance:function(){var e,t,i,o,n,a=this,l=this.$store.getters.netId;"evm"!==localStorage.okxwallet_chain&&(window.solana||null!==(e=window)&&void 0!==e&&null!==(t=e.trustwallet)&&void 0!==t&&t.solana&&(null===(i=window.ethereum)||void 0===i||null===(o=i.address)||void 0===o||null===(n=o.startsWith)||void 0===n||!n.call(o,"0x"))&&window.ethereum.address)&&(l="solana"),"solana"!==l&&Object(Zt["v"])().then((function(e){a.gasBalance=e,a.hasNoGas()}))},hasNoGas:function(){var e,t;if(null!==(e=window)&&void 0!==e&&null!==(t=e._tw_)&&void 0!==t&&t.appExchangeNoGas){var i,o,n=new Vi.a(this.gasBalance||0),a=0===this.activeTab?this.token2:this.token1,l=a.chain||this.$store.getters.netId,s=new Vi.a(ei["j"][l]||.001).div(2),c=n.lt(s)&&(null===(i=window)||void 0===i||null===(o=i._tw_)||void 0===o?void 0:o.appExchangeNoGas)&&"bsc"===l;return c&&2===this.selected?(this.selected=3,this.$dialog.alert({title:this.$t("tips"),message:this.$t("freeGasTips"),confirmButtonText:this.$t("confirm"),confirmButtonColor:"#3F80F7"})):c||3!==this.selected||(this.selected=2),void(this.isNoGas=c)}3===this.selected&&(this.selected=2),this.isNoGas=!1},updateGasPrice:function(e){this.gasSetting=e},onSubmitSolanaSlippage:function(e){console.log("slippageInfo",e),null!==e&&void 0!==e&&e.slippage&&(localStorage.solanaSlippage=(null===e||void 0===e?void 0:e.slippage)||"19")},unwrapSol:function(e){var t=this;this.loadingUnwrap=!0,Object(Ii["l"])(e).then((function(e){return e.wait()})).then((function(e){console.log(e),t.$toast.success(t.$t("unwrapSuccess")),t.getUserTokenList(),t.getTokenDetails()})).catch((function(e){console.log(e),t.$f.handleError(e)})).finally((function(){t.loadingUnwrap=!1}))}}};i("c8da");const Ji=Bt()(Hi,[["render",et],["__scopeId","data-v-1fba98e8"]]);t["default"]=Ji},3731:function(e,t,i){"use strict";i("f898")},"404a":function(e,t,i){"use strict";i("c240")},"449c":function(e,t,i){"use strict";var o=i("7a23"),n=function(e){return Object(o["pushScopeId"])("data-v-11eaf9ee"),e=e(),Object(o["popScopeId"])(),e},a=n((function(){return Object(o["createElementVNode"])("use",{"xlink:href":"#icon-slippage"},null,-1)})),l=[a],s={class:"popup-title"},c={class:"slippage-label"},r=n((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),d={style:{width:"100%"}},u={class:"radio-group"},m={key:0,style:{flex:"1"}},p=["id","value","disabled"],b=["for"],h={class:"slippage-input"},f=n((function(){return Object(o["createElementVNode"])("span",null,"%",-1)})),v={class:"form-submit"};function g(e,t,i,n,a,g){var O=this,k=Object(o["resolveComponent"])("van-checkbox"),j=Object(o["resolveComponent"])("van-field"),w=Object(o["resolveComponent"])("van-button"),y=Object(o["resolveComponent"])("van-form"),S=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],null,[0===i.icon?(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",{key:0,class:"icon-svg icon-slippage","aria-hidden":"true",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return a.slippageVisible=!0}),["stop"]))},l)):1===i.icon?(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",{key:1,class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){return a.slippageVisible=!0}),["stop"]))})):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(S,{show:a.slippageVisible,"onUpdate:show":t[7]||(t[7]=function(e){return a.slippageVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h3",s,Object(o["toDisplayString"])(e.$t("setSlippage")),1),Object(o["createVNode"])(y,{class:"popup-content",onSubmit:g.confirmSubmit},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",c,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("i",{class:"iconfont icon-changjianwentixiangguanwenti",onClick:t[2]||(t[2]=Object(o["withModifiers"])((function(){return g.openSlippageTips&&g.openSlippageTips.apply(g,arguments)}),["stop"])),style:{"font-size":"0.38rem","margin-left":"0.05rem",color:"#558BED"}}),r,i.isAutoSlippage?(Object(o["openBlock"])(),Object(o["createBlock"])(k,{key:0,modelValue:a.autoSlippage,"onUpdate:modelValue":t[3]||(t[3]=function(e){return a.autoSlippage=e})},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("autoSlippage")),1)]})),_:1},8,["modelValue"])):Object(o["createCommentVNode"])("",!0)]),Object(o["createVNode"])(j,{name:"slippage",modelValue:a.slippageValue,"onUpdate:modelValue":t[6]||(t[6]=function(e){return a.slippageValue=e}),disabled:a.autoSlippage,label:"",style:{"--van-cell-horizontal-padding":"0"},rules:[{required:!0,message:O.$t("enterSlippage")},{validator:g.validator,message:O.$t("slippageMaxTip")}],border:!1},{input:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("div",u,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(i.slippageList,(function(e,i){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:i},[0!==i?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",m)):Object(o["createCommentVNode"])("",!0),Object(o["withDirectives"])(Object(o["createElementVNode"])("input",{type:"radio",id:"radio-".concat(e),"onUpdate:modelValue":t[4]||(t[4]=function(e){return a.slippageValue=e}),value:e,class:"radio-input",disabled:a.autoSlippage},null,8,p),[[o["vModelRadio"],a.slippageValue]]),Object(o["createElementVNode"])("label",{for:"radio-".concat(e),class:"radio-item"},Object(o["toDisplayString"])(e)+"%",9,b)],64)})),128))]),Object(o["createElementVNode"])("div",h,[Object(o["createVNode"])(j,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",modelValue:a.slippageValue,"onUpdate:modelValue":t[5]||(t[5]=function(e){return a.slippageValue=e}),disabled:a.autoSlippage,onBlur:g.handleBlur,clearable:""},null,8,["modelValue","disabled","onBlur"]),f])])]})),_:1},8,["modelValue","disabled","rules"]),Object(o["createElementVNode"])("div",v,[Object(o["createVNode"])(w,{class:"btn",block:"",round:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])],64)}i("a9e3");var O={name:"slippageButton",props:{slippage:{type:String,default:"2"},slippageList:{type:Array,default:function(){return["0.5","1","2"]}},min:{type:Number,default:0},icon:{type:Number,default:0},isAutoSlippage:{type:Boolean,default:!1},initAutoSlippage:{type:Boolean,default:!0}},emits:["update:slippage","onSubmit"],data:function(){return{slippageVisible:!1,slippageValue:this.slippage||"1",autoSlippage:this.initAutoSlippage}},watch:{slippageVisible:function(e){var t,i,o;e&&(this.slippageValue=this.slippage||"1",this.isAutoSlippage?this.autoSlippage=this.initAutoSlippage:this.autoSlippage=!1),console.log("isRefreshEnable",!e),null===(t=window)||void 0===t||null===(i=t._tw_)||void 0===i||null===(o=i.isRefreshEnable)||void 0===o||o.call(i,"bridge",!e)}},methods:{confirmSubmit:function(){this.slippageVisible&&Number(this.slippageValue)<this.min&&(this.slippageValue=this.min),this.$emit("update:slippage",this.slippageValue),this.$emit("onSubmit",{slippage:this.slippageValue,autoSlippage:this.autoSlippage}),this.slippageVisible=!1},openSlippageTips:function(){this.$dialog.alert({title:this.$t("slippage"),message:this.$t("slippageTips"),confirmButtonText:this.$t("iKnown"),confirmButtonColor:"#558BED",messageAlign:"left"}).then((function(){}))},handleBlur:function(){this.slippageVisible&&Number(this.slippageValue)<0&&(this.slippageValue=0),this.slippageVisible&&Number(this.slippageValue)<this.min&&(this.slippageValue=this.min)},validator:function(e){return Number(e)<=49.99}}},k=(i("0bb0"),i("6b0d")),j=i.n(k);const w=j()(O,[["render",g],["__scopeId","data-v-11eaf9ee"]]);t["a"]=w},"497e":function(e,t,i){"use strict";i("caad"),i("2532"),i("ac1f"),i("5319");var o=i("7a23"),n=i("335a"),a=i("7f08"),l=i("4360"),s=["onClick"],c={class:"rebate-bg"},r={class:"rebate-bg fastTrade"},d={setup:function(e){var t,d,u,m,p,b,h,f,v=i("ddc3"),g=null===(t=(null===(u=window)||void 0===u?void 0:u.main)||(null===(m=window)||void 0===m?void 0:m._tw_)||{})||void 0===t||null===(d=t.appGetPlatform)||void 0===d?void 0:d.call(t),O=null===(p=(null===(h=window)||void 0===h?void 0:h.main)||(null===(f=window)||void 0===f?void 0:f._tw_)||{})||void 0===p||null===(b=p.getAppVersionCode)||void 0===b?void 0:b.call(p),k=Object(o["computed"])((function(){var e=window.navigator.userAgent;return!!e.includes("OSType/2")||"android"===g&&O>104})),j=Object(o["computed"])((function(){var e,t,i=window.navigator.userAgent,o=l["a"].getters.netId;if(i.includes("OSType/2")){var n,a,s=i.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),c=v.gte(s,"2.3.0");return(null===(n=(a=["eth","bsc"]).includes)||void 0===n?void 0:n.call(a,o))&&c}var r="android"===g&&O>112;return(null===(e=(t=["eth","bsc"]).includes)||void 0===e?void 0:e.call(t,o))&&r}));function w(){var e,t=(null===(e=n["a"].get("ave_globalConfig",{}))||void 0===e?void 0:e.Inviter_Url)||"https://m.avepromotion.xyz";Object(a["appOpenWebPage"])(t)}return function(e,t){var i=Object(o["resolveComponent"])("van-swipe-item"),n=Object(o["resolveComponent"])("van-swipe");return Object(o["withDirectives"])((Object(o["openBlock"])(),Object(o["createBlock"])(n,{class:"rebate-swipe",autoplay:3e3,"lazy-render":"","show-indicators":!1},{default:Object(o["withCtx"])((function(){return[Object(o["createVNode"])(i,null,{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",{class:"rebate-container clickable",onClick:Object(o["withModifiers"])(w,["stop"])},[Object(o["createElementVNode"])("div",c,Object(o["toDisplayString"])(e.$t("rebateTips")),1)],8,s)]})),_:1}),Object(o["unref"])(j)?(Object(o["openBlock"])(),Object(o["createBlock"])(i,{key:0},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",{class:"rebate-container",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){}),["stop"]))},[Object(o["createElementVNode"])("div",r,Object(o["toDisplayString"])(e.$t("fastTradeTips")),1)])]})),_:1})):Object(o["createCommentVNode"])("",!0)]})),_:1},512)),[[o["vShow"],Object(o["unref"])(k)]])}}},u=(i("404a"),i("6b0d")),m=i.n(u);const p=m()(d,[["__scopeId","data-v-9bc1a90a"]]);t["a"]=p},"57c9":function(e,t,i){"use strict";i("a9e3");var o=i("7a23"),n=i("afd7"),a=i.n(n),l={class:"tx-li-item_1"},s={style:{display:"flex","align-items":"center","justify-content":"left","min-width":"42%"}},c={style:{display:"flex","align-items":"center",flex:"1","justify-content":"center","overflow-x":"hidden","min-width":"0.4rem"}},r={key:0,src:a.a,style:{width:"100%"},alt:"",srcset:""},d={key:1,class:"iconfont icon-jiantou2"},u={style:{display:"flex","align-items":"center","min-width":"42%","justify-content":"right","flex-wrap":"wrap"}},m={style:{"text-align":"right","word-break":"break-word","margin-left":"0.1rem"}},p={class:"tx-li-item_3"},b={key:0},h={key:1},f={key:2},v={key:3,style:{color:"#999999"}},g={key:4};function O(e,t,n,a,O,k){var j,w,y,S,T,N,V,$,_=Object(o["resolveComponent"])("van-image");return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"tx-li-item",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(){return k.goLink&&k.goLink.apply(k,arguments)}),["stop"]))},[Object(o["createElementVNode"])("div",l,[Object(o["createElementVNode"])("div",s,[Object(o["createVNode"])(_,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem"},"lazy-load":"","show-loading":"",src:e.$f.formatIcon(n.item.from_address+"-"+n.item.chain),"error-icon":i("aeccf")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(n.item.from_amount))+" "+Object(o["toDisplayString"])(n.item.from_symbol||""),1)]),Object(o["createElementVNode"])("div",c,[0===n.item.is_merged&&1e3*(null===(j=n.item)||void 0===j?void 0:j.time)>=Date.now()-6e4&&"timeout"!==(null===(w=n.item)||void 0===w?void 0:w.status)&&"fail"!==(null===(y=n.item)||void 0===y?void 0:y.status)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",r)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("i",d))]),Object(o["createElementVNode"])("div",u,[Object(o["createVNode"])(_,{round:"",width:"0.32rem",height:"0.32rem","icon-size":"0.32rem",style:{"margin-right":"0.1rem","min-width":"0.32rem"},"lazy-load":"","show-loading":"",src:e.$f.formatIcon(n.item.to_address+"-"+n.item.chain),"error-icon":i("aeccf")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(n.item.to_amount)),1),Object(o["createElementVNode"])("span",m,Object(o["toDisplayString"])(n.item.to_symbol||""),1)])]),Object(o["createElementVNode"])("ul",p,[Object(o["createElementVNode"])("li",null,[1===n.item.is_merged?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",b,Object(o["toDisplayString"])(e.$f.formatDate(n.item.time)),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",h,"--")),1===n.item.is_merged&&""!==n.item.from_price_usd?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",f,Object(o["toDisplayString"])(e.$f.formatNumberCurrencyUnit((Number(n.item.from_amount)||0)*(Number(n.item.from_price_usd)||0))),1)):("timeout"===(null===(S=n.item)||void 0===S?void 0:S.status)||"fail"===(null===(T=n.item)||void 0===T?void 0:T.status)||1e3*(null===(N=n.item)||void 0===N?void 0:N.time)<Date.now()-6e4)&&0===n.item.is_merged&&"solana"===(null===(V=n.item)||void 0===V?void 0:V.chain)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",v,Object(o["toDisplayString"])("fail"===(null===($=n.item)||void 0===$?void 0:$.status)?e.$t("failed"):e.$t("timeout")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",g,"--"))])])])}var k={name:"TxItem",props:{item:Object},data:function(){return{}},methods:{goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.item.chain,this.item.transaction,"tx"))}}},j=(i("8ac1"),i("6b0d")),w=i.n(j);const y=w()(k,[["render",O],["__scopeId","data-v-fd4714dc"]]);t["a"]=y},"580e":function(e,t,i){},"84f1":function(e,t,i){"use strict";i("192e")},"85b6":function(e,t,i){"use strict";var o=i("7a23"),n=function(e){return Object(o["pushScopeId"])("data-v-b557f64c"),e=e(),Object(o["popScopeId"])(),e},a={key:0,class:"gap"},l=["onClick"],s=n((function(){return Object(o["createElementVNode"])("div",{class:"bar"},null,-1)})),c={class:"text"};function r(e,t,i,n,r,d){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",{class:"percent-container",style:Object(o["normalizeStyle"])({"--percent-active-color":i.activeColor})},[Object(o["createElementVNode"])("div",{for:"percent-radio-0",class:Object(o["normalizeClass"])({active:0===r.activePercent})},null,2),(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(r.percentList,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[0!==t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",{class:Object(o["normalizeClass"])(["label",{active:e===r.activePercent}]),onClick:Object(o["withModifiers"])((function(t){return d.handleClick(e)}),["stop"])},[s,Object(o["createElementVNode"])("div",c,Object(o["toDisplayString"])(e)+"%",1)],10,l)],64)})),128))],4)}var d={name:"PercentStep",props:{activeColor:String},emits:["change"],data:function(){return{activePercent:0,percentList:[25,50,75,100]}},methods:{handleClick:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e===this.activePercent?(this.activePercent=0,this.$emit("change",0,t)):(this.activePercent=e,this.$emit("change",e,t))}}},u=(i("3731"),i("6b0d")),m=i.n(u);const p=m()(d,[["render",r],["__scopeId","data-v-b557f64c"]]);t["a"]=p},"876e":function(e,t,i){},"8ac1":function(e,t,i){"use strict";i("c04b")},"8e2e":function(e,t,i){"use strict";i.d(t,"a",(function(){return c}));var o=i("f3f3"),n=i("0122"),a=(i("e9c4"),i("a002")),l=i.n(a),s=i("7a23");function c(e,t){var i=Object(s["ref"])(t);function a(){l.a.getItem(e).then((function(e){console.log("read",e),i.value=null!==e&&void 0!==e?e:t})).catch((function(e){i.value=v}))}function c(t){var a=t||i.value;return a?Array.isArray(a)?l.a.setItem(e,JSON.parse(JSON.stringify(i.value))):void("object"===Object(n["a"])(i.value)?l.a.setItem(e,Object(o["a"])({},a)):l.a.setItem(e,a)):l.a.removeItem(e)}return a(),Object(s["watch"])(i,(function(e){c()})),i}},9587:function(e,t,i){"use strict";i("99af");var o=i("7a23"),n=function(e){return Object(o["pushScopeId"])("data-v-0e1bfede"),e=e(),Object(o["popScopeId"])(),e},a={class:"flex items-center"},l={class:"label mr-20"},s={key:0,class:"token-container"},c={class:"icon-token-container mr-5"},r=["src"],d={class:"mr-5"},u=n((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),m={class:"flex items-center mt-10"},p={class:"label mr-20"},b={key:0,class:"token-container"},h={class:"icon-token-container mr-5"},f=["src"],v={class:"mr-5"},g={class:"flex items-center mt-10"},O={class:"label mr-20"},k={key:0,class:"token-container"},j={class:"flex items-center justify-between mt-10"},w={class:"label mr-20 flex items-center"},y={key:0},S=n((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)}));function T(e,t,n,T,N,V){var $,_,E,x=Object(o["resolveComponent"])("van-image"),B=Object(o["resolveComponent"])("van-loading"),C=Object(o["resolveComponent"])("van-button");return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",{class:"tx-li-item van-hairline--bottom clickable",onClick:t[1]||(t[1]=Object(o["withModifiers"])((function(e){return V.goLink(n.item)}),["stop"]))},[Object(o["createElementVNode"])("div",a,[Object(o["createElementVNode"])("span",l,Object(o["toDisplayString"])(e.$t("from")),1),n.item.from_token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",s,[Object(o["createElementVNode"])("div",c,[Object(o["createVNode"])(x,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(n.item.from_token+"-"+n.item.chain),"error-icon":i("aeccf")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,r)]),Object(o["createElementVNode"])("span",d,Object(o["toDisplayString"])(e.$f.formatNumber2(V.formatUnits(n.item.from_amount,n.item.from_token_decimals))),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.item.from_token_symbol||""),1)])):Object(o["createCommentVNode"])("",!0),u,0===n.item.is_merged?(Object(o["openBlock"])(),Object(o["createBlock"])(B,{key:1,size:"0.32rem",color:"#3F80F7","text-size":"0.24rem"})):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",m,[Object(o["createElementVNode"])("span",p,Object(o["toDisplayString"])(e.$t("to")),1),n.item.to_token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",b,[Object(o["createElementVNode"])("div",h,[Object(o["createVNode"])(x,{round:"",width:"0.4rem",height:"0.4rem","icon-size":"0.4rem","lazy-load":"","show-loading":"",src:e.$f.formatIcon(n.item.to_token+"-"+n.item.chain),"error-icon":i("aeccf")},null,8,["src","error-icon"]),Object(o["createElementVNode"])("img",{class:"icon-svg icon-network",src:"".concat(e.$store.state.s3BaseUrl,"chain/").concat(n.item.chain,".png"),alt:"",srcset:""},null,8,f)]),Object(o["createElementVNode"])("span",v,Object(o["toDisplayString"])(e.$f.formatNumber2(V.formatUnits(n.item.to_amount,n.item.to_token_decimals))),1),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])((null===($=n.item)||void 0===$?void 0:$.to_token_symbol)||""),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("span",O,Object(o["toDisplayString"])(e.$t("delegatePrice"))+"("+Object(o["toDisplayString"])(n.item.target_token===n.item.from_token?(null===(_=n.item)||void 0===_?void 0:_.from_token_symbol)||"":(null===(E=n.item)||void 0===E?void 0:E.to_token_symbol)||"")+")",1),n.item.target_token?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",k,[Object(o["createElementVNode"])("span",null,"$"+Object(o["toDisplayString"])(n.item.target_limit_price?e.$f.formatNumber2(n.item.target_limit_price):"--"),1)])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",j,[Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatDate(n.item.created_at)),1),(0===n.item.status||-1===n.item.status)&&Date.now()<1e3*n.item.created_at+N.LimitExpiredTime?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",y,"("+Object(o["toDisplayString"])(e.$t("expiresInTime",{t:e.$dayjs(1e3*n.item.created_at+N.LimitExpiredTime).fromNow()}))+")",1)):Object(o["createCommentVNode"])("",!0)]),1===n.item.status||2===n.item.status?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(o["normalizeStyle"])({color:V.formatStatusColor(n.item)})},Object(o["toDisplayString"])(V.formatStatus(n.item)),5)):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[S,0!==n.item.status||(0===n.item.status||-1===n.item.status)&&1e3*n.item.created_at+N.LimitExpiredTime<Date.now()?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",{key:0,class:"status-txt",style:Object(o["normalizeStyle"])({color:V.formatStatusColor(n.item)})},Object(o["toDisplayString"])(V.formatStatus(n.item)),5)):Object(o["createCommentVNode"])("",!0),n.item.from_token===N.NATIVE_TOKEN||(0===n.item.status||-1===n.item.status)&&1e3*n.item.created_at+N.LimitExpiredTime>Date.now()?(Object(o["openBlock"])(),Object(o["createBlock"])(C,{key:1,class:"btn-s",plain:"",hairline:"",type:"primary",size:"small",loading:N.loading,"loading-text":e.$t("revoke"),"loading-size":"0.28rem",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return V.confirmCancel(n.item)}),["stop"]))},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("revoke")),1)]})),_:1},8,["loading","loading-text"])):Object(o["createCommentVNode"])("",!0)],64))])])}i("d3b7");var N=i("365c"),V=i("c9d9"),$=i("6779"),_={name:"TxItem",props:{item:Object},emits:["refresh"],data:function(){return{loading:!1,LimitExpiredTime:V["g"],NATIVE_TOKEN:V["k"]}},methods:{formatUnits:$["utils"].formatUnits,goLink:function(e){this.$router.push({name:"LimitOrder",params:{id:e.id}})},confirmCancel:function(e){var t=this;this.$dialog.confirm({title:this.$t("cancelOrderConfirming"),message:this.$t("confirmCancelMessage"),confirmButtonText:this.$t("confirm1"),confirmButtonColor:"#558BED",cancelButtonText:this.$t("cancel")}).then((function(){t.cancelLimitOrder(e)}))},cancelLimitOrder:function(e){var t=this,i={fromToken:e.from_token,fromAmount:e.from_amount,toToken:e.to_token,minReturn:e.to_min_amount,salt:e.salt,id:e.id,order_id:e.order_id};console.log(i),this.loading=!0,Object(N["h"])(i).then((function(i){console.log(i),t.$notify({type:"success",message:t.$t("cancelledOrderSuccessfully")}),t.$emit("refresh",e)})).catch((function(e){t.$f.handleError(e)})).finally((function(){t.loading=!1}))},formatStatus:function(e){var t;if((0===e.status||-1===e.status)&&1e3*e.created_at+V["g"]<Date.now())return this.$t("expired1");var i=e.status,o={0:"",1:this.$t("cancelled"),2:this.$t("completed"),3:this.$t("unknownError1"),7:this.$t("unknownError1"),5:this.$t("insufficientSlippage1"),8:this.$t("insufficientSlippage1"),6:this.$t("transferFailed"),4:this.$t("fail1")+"(".concat(this.$t("notEnoughBalance"),")"),10:this.$t("fail1")+"(".concat(this.$t("nonceError"),")"),11:this.$t("fail1")+"(".concat(this.$t("chainError"),")"),12:this.$t("fail1")+"(".concat(this.$t("signatureError"),")"),13:this.$t("fail1")+"(".concat(this.$t("approveGasPriceLow"),")"),"-1":""};return null!==(t=o[i])&&void 0!==t?t:i},formatStatusColor:function(e){if((0===e.status||-1===e.status)&&1e3*e.created_at+V["g"]<Date.now())return"#999999";var t=e.status;return 1===t||10===t||11===t||12===t||4===t?"#999999":2===t?"#12B886":0===t?"#3F80F7":"#FF0000"}}},E=(i("2232"),i("6b0d")),x=i.n(E);const B=x()(_,[["render",T],["__scopeId","data-v-0e1bfede"]]);t["a"]=B},"959c":function(e,t,i){"use strict";i("580e")},"965b":function(e,t,i){e.exports=i.p+"static/img/audit-logo.01052351.png"},a2ef:function(e,t,i){"use strict";i("b0c0"),i("fb6a"),i("99af");var o=i("7a23"),n=i("e524"),a=i.n(n),l={class:"swap-title"},s={class:"swap-info"},c={class:"swap-info_item header"},r={class:"header-li"},d={class:"header-li_left"},u=["src"],m={class:"header-li_right"},p={class:"switch-box"},b={class:"header-li"},h={class:"header-li_left"},f=["src"],v={class:"header-li_right"},g={key:0,class:"b-s-c"},O={class:"color-3f80f7"},k=Object(o["createTextVNode"])(") "),j={class:"text-size-12 color-999",style:{"max-height":"2rem","overflow-y":"auto"}},w={class:"flex justify-between items-center mt-5"},y={key:0,style:{color:"var(--van-danger-color)"}},S={key:1},T={key:1,class:"bg-change"},N={class:"swap-info_item"},V={class:"swap-info_item-label"},$={class:"swap-info_item-value"},_={class:"p-item"},E={class:"p-item"},x={key:2,class:"swap-info_item"},B={class:"swap-info_item-label"},C={class:"swap-info_item-value"},A={key:3,class:"swap-info_item"},I={class:"swap-info_item-label"},D={class:"swap-info_item-value"},L={key:0,class:"swap-info_item"},P={class:"swap-info_item-label"},F={class:"swap-info_item-value"},U={key:1,class:"swap-info_item"},M={class:"swap-info_item-label"},R={class:"swap-info_item-value"},G={class:"swap-info_item"},z={class:"swap-info_item-label"},W={key:0,class:"swap-info_item-value path-list"},Q={key:0},q={class:"path-amm"},H={key:1,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},J={key:1},Y={key:0,style:{width:"0.3rem",margin:"0.02rem 0.1rem 0"},src:a.a,alt:"",srcset:""},K={key:1},X={key:5,class:"swap-info_item"},Z={class:"swap-info_item-label"},ee={class:"swap-info_item-value"},te=["href"],ie={class:"iconfont icon-copy",style:{"margin-left":"0.1rem"}},oe={class:"footer"};function ne(e,t,n,a,ne,ae){var le=Object(o["resolveComponent"])("van-icon"),se=Object(o["resolveComponent"])("van-button"),ce=Object(o["resolveComponent"])("van-image"),re=Object(o["resolveComponent"])("van-popup"),de=Object(o["resolveDirective"])("copy");return Object(o["openBlock"])(),Object(o["createBlock"])(re,{show:ae.dialogVisible,"onUpdate:show":t[1]||(t[1]=function(e){return ae.dialogVisible=e}),style:Object(o["normalizeStyle"])({width:"90%",padding:"0.4rem"}),closeable:"",round:"",teleport:"#app"},{default:Object(o["withCtx"])((function(){var a,re,ue,me,pe,be,he,fe,ve,ge,Oe,ke,je,we,ye,Se,Te;return[Object(o["createElementVNode"])("header",l,Object(o["toDisplayString"])(e.$t("tradeConfirm")),1),Object(o["createElementVNode"])("ul",s,[Object(o["createElementVNode"])("li",c,[Object(o["createElementVNode"])("div",r,[Object(o["createElementVNode"])("div",d,[Object(o["createElementVNode"])("img",{class:"icon-token",src:ae.formatLogo(n.swapInfo.fromToken),alt:"",height:"20"},null,8,u),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.swapInfo.fromToken.symbol),1)]),Object(o["createElementVNode"])("div",m,Object(o["toDisplayString"])(e.$f.formatNumber2((null===(a=n.swapInfo)||void 0===a?void 0:a.fromAmount)||ae.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals))||"0"),1)]),Object(o["createElementVNode"])("div",p,[Object(o["createVNode"])(le,{class:"switch-icon",name:"down"})]),Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",h,[Object(o["createElementVNode"])("img",{class:"icon-token",src:ae.formatLogo(n.swapInfo.toToken),alt:"",height:"20"},null,8,f),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(n.swapInfo.toToken.symbol),1)]),Object(o["createElementVNode"])("div",v,Object(o["toDisplayString"])(e.$f.formatNumber2((null===(re=n.swapInfo)||void 0===re?void 0:re.toAmount)||ae.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals))||"0"),1)])]),e.$store.state.isBatchSwap&&ne.isCanBatchSwap?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",g,[Object(o["createElementVNode"])("button",{class:"clickable",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return ne.isShowBatchAddress=!ne.isShowBatchAddress}),["stop"]))},[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("batchSwapDetails"))+"(",1),Object(o["createElementVNode"])("span",O,Object(o["toDisplayString"])((null===(ue=ae.selectSubWallets)||void 0===ue?void 0:ue.length)||0),1),k,Object(o["withDirectives"])(Object(o["createVNode"])(le,{name:"arrow-down"},null,512),[[o["vShow"],!ne.isShowBatchAddress]]),Object(o["withDirectives"])(Object(o["createVNode"])(le,{name:"arrow-up"},null,512),[[o["vShow"],ne.isShowBatchAddress]])]),Object(o["withDirectives"])(Object(o["createElementVNode"])("ul",j,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(ae.selectSubWallets||[],(function(t,i){var a;return Object(o["openBlock"])(),Object(o["createElementBlock"])("li",w,[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(null===t||void 0===t?void 0:t.name)+"("+Object(o["toDisplayString"])(null===t||void 0===t?void 0:t.address.slice(0,6))+"..."+Object(o["toDisplayString"])(null===t||void 0===t?void 0:t.address.slice(-4))+")",1),null!==(a=ae.swapTxs)&&void 0!==a&&a[i]?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",S,"-"+Object(o["toDisplayString"])(e.$f.formatNumber2(ae.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals))||"0")+" "+Object(o["toDisplayString"])(n.swapInfo.fromToken.symbol),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",y,Object(o["toDisplayString"])(e.$t("insufficientBalance")),1))])})),256))],512),[[o["vShow"],ne.isShowBatchAddress]])])):Object(o["createCommentVNode"])("",!0),ne.priceUpdated?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",T,[Object(o["createElementVNode"])("div",null,Object(o["toDisplayString"])(e.$t("priceUpdated")),1),Object(o["createVNode"])(se,{class:"btn",type:"primary",color:"#3F80F7",size:"small",round:"",onClick:ae.accept},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("accept")),1)]})),_:1},8,["onClick"])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("li",N,[Object(o["createElementVNode"])("div",V,Object(o["toDisplayString"])(e.$t("price")),1),Object(o["createElementVNode"])("div",$,[Object(o["createElementVNode"])("div",_,"1 "+Object(o["toDisplayString"])(n.swapInfo.fromToken.symbol)+" = "+Object(o["toDisplayString"])(ae.getPrice((null===(me=n.swapInfo)||void 0===me?void 0:me.fromAmount)||ae.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals),(null===(pe=n.swapInfo)||void 0===pe?void 0:pe.toAmount)||ae.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals)))+" "+Object(o["toDisplayString"])(n.swapInfo.toToken.symbol),1),Object(o["createElementVNode"])("div",E,"1 "+Object(o["toDisplayString"])(n.swapInfo.toToken.symbol)+" = "+Object(o["toDisplayString"])(ae.getPrice((null===(be=n.swapInfo)||void 0===be?void 0:be.fromAmount)||ae.formatUnits(n.swapInfo.toTokenAmount||0,n.swapInfo.toToken.decimals),(null===(he=n.swapInfo)||void 0===he?void 0:he.toAmount)||ae.formatUnits(n.swapInfo.fromTokenAmount||0,n.swapInfo.fromToken.decimals)))+" "+Object(o["toDisplayString"])(n.swapInfo.fromToken.symbol),1)])]),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",x,[Object(o["createElementVNode"])("div",B,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("div",C,Object(o["toDisplayString"])(n.slippage)+"%",1)])),n.swapInfo.gasValue?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",A,[Object(o["createElementVNode"])("div",I,Object(o["toDisplayString"])(e.$t("estimatedGas")),1),Object(o["createElementVNode"])("div",D,"≈ "+Object(o["toDisplayString"])(ae.getEstimatedFee(n.swapInfo.gasValue)),1)])):Object(o["createCommentVNode"])("",!0),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:4},[n.swapInfo.isAmountOut?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",U,[Object(o["createElementVNode"])("div",M,Object(o["toDisplayString"])(e.$t("maximumReceived")),1),Object(o["createElementVNode"])("div",R,Object(o["toDisplayString"])(ae.maxSold)+" "+Object(o["toDisplayString"])(null===(ge=n.swapInfo)||void 0===ge||null===(Oe=ge.fromToken)||void 0===Oe?void 0:Oe.symbol),1)])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",L,[Object(o["createElementVNode"])("div",P,Object(o["toDisplayString"])(e.$t("minimumReceived")),1),Object(o["createElementVNode"])("div",F,Object(o["toDisplayString"])(ae.minReceived)+" "+Object(o["toDisplayString"])(null===(fe=n.swapInfo)||void 0===fe||null===(ve=fe.toToken)||void 0===ve?void 0:ve.symbol),1)]))],64)),Object(o["createElementVNode"])("li",G,[Object(o["createElementVNode"])("div",z,Object(o["toDisplayString"])(e.$t("tokenRoute")),1),n.swapInfo.fromToken.isWrapper&&n.swapInfo.toToken.isETH||n.swapInfo.toToken.isWrapper&&n.swapInfo.fromToken.isETH?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",J,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(ae.swapRouterPath,(function(e,t){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:t},[0!==t?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",Y)):Object(o["createCommentVNode"])("",!0),e.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",K,Object(o["toDisplayString"])(e.symbol),1)):Object(o["createCommentVNode"])("",!0)],64)})),128))])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",W,[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(ae.swapRouterPath,(function(t,n){return Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:n},[t.symbol?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",Q,Object(o["toDisplayString"])(t.symbol),1)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",q,[t.nextAmm&&"unknown"!==t.nextAmm?(Object(o["openBlock"])(),Object(o["createBlock"])(ce,{key:0,class:"icon-amm-logo","lazy-load":"","show-loading":"",round:"",src:"".concat(e.$store.state.s3BaseUrl,"swap/").concat(t.nextAmm,".jpeg"),"error-icon":i("aeccf")},null,8,["src","error-icon"])):Object(o["createCommentVNode"])("",!0),n!==ae.swapRouterPath.length-1?(Object(o["openBlock"])(),Object(o["createElementBlock"])("img",H)):Object(o["createCommentVNode"])("",!0)])],64)})),128))]))]),null!==(ke=n.swapInfo)&&void 0!==ke&&ke.transaction?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",X,[Object(o["createElementVNode"])("div",Z,Object(o["toDisplayString"])(e.$t("txHash")),1),Object(o["createElementVNode"])("div",ee,[Object(o["createElementVNode"])("a",{href:e.$f.formatExplorerUrl(n.chain,n.swapInfo.transaction,"tx"),target:"_blank"},Object(o["toDisplayString"])((null===(je=n.swapInfo)||void 0===je||null===(we=je.transaction)||void 0===we?void 0:we.slice(0,6))+"..."+(null===(ye=n.swapInfo)||void 0===ye||null===(Se=ye.transaction)||void 0===Se?void 0:Se.slice(-6))),9,te),Object(o["withDirectives"])(Object(o["createElementVNode"])("i",ie,null,512),[[de,null===(Te=n.swapInfo)||void 0===Te?void 0:Te.transaction]])])])):Object(o["createCommentVNode"])("",!0)]),Object(o["createElementVNode"])("div",oe,[Object(o["createVNode"])(se,{class:"submit-button",type:"primary",loading:ae.isLoading,"loading-text":e.$t("confirming"),block:"",onClick:Object(o["withModifiers"])(ae.submitSwap,["stop"]),disabled:ne.priceUpdated},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["loading","loading-text","onClick","disabled"])])]})),_:1},8,["show","style"])}i("a9e3"),i("b680"),i("d3b7"),i("25f0"),i("caad"),i("2532");var ae=i("901e"),le=i.n(ae),se=i("6779"),ce=i("c9d9"),re={name:"ConfirmSwap",props:{visible:Boolean,swapInfo:Object,slippage:String,loading:Boolean,chain:String,nativePrice:Number,gasPrice:String},emits:["update:visible","submit"],data:function(){var e,t;return{priceUpdated:!1,isShowBatchAddress:!0,isCanBatchSwap:!(null===(e=window)||void 0===e||null===(t=e._tw_)||void 0===t||!t.appSelectSubWallet)||!1}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},isLoading:function(){return this.loading},minReceived:function(){var e,t,i,o,n=(null===(e=this.swapInfo)||void 0===e||null===(t=e.toToken)||void 0===t?void 0:t.decimals)||0,a=null===(i=this.swapInfo)||void 0===i?void 0:i.toAmount;return a?this.$f.formatNumber(new le.a(a||0).times(100-Number(this.slippage)).div(100).toFixed()):this.$f.formatNumber(se["utils"].formatUnits(new le.a((null===(o=this.swapInfo)||void 0===o?void 0:o.toTokenAmount)||0).times(100-Number(this.slippage)).div(100).toFixed(0),n))},maxSold:function(){var e,t,i,o,n=(null===(e=this.swapInfo)||void 0===e||null===(t=e.fromToken)||void 0===t?void 0:t.decimals)||0,a=null===(i=this.swapInfo)||void 0===i?void 0:i.fromAmount;return a?this.$f.formatNumber(new le.a(a||0).times(100+Number(this.slippage)).div(100).toFixed()):this.$f.formatNumber(se["utils"].formatUnits(new le.a((null===(o=this.swapInfo)||void 0===o?void 0:o.fromTokenAmount)||0).times(100+Number(this.slippage)).div(100).toFixed(0),n))},swapRouterPath:function(){var e;return(null===(e=this.swapInfo)||void 0===e?void 0:e.swapRouterPath)||[]},subTxs:function(){var e;return(null===(e=this.swapInfo)||void 0===e?void 0:e.subTxs)||{}},selectSubWallets:function(){return this.$store.getters.selectSubWallets||[]},swapTxs:function(){var e,t;return(null===(e=this.$store.state)||void 0===e||null===(t=e.subTxs)||void 0===t?void 0:t.swapTxs)||[]}},watch:{swapInfo:function(e,t){},visible:function(e){var t,i,o;e&&(this.priceUpdated=!1),null===(t=window)||void 0===t||null===(i=t._tw_)||void 0===i||null===(o=i.isRefreshEnable)||void 0===o||o.call(i,"bridge",!e)}},methods:{formatUnits:se["utils"].formatUnits,formatPrice:function(e){return this.$f.formatNumber(e&&""!==e?se["utils"].formatEther(this.nativePrice):0)},getPrice:function(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new le.a(t).div(e).toFixed())||"0"},getEstimatedFee:function(e){return e?this.$f.formatNumberCurrencyUnit(new le.a(e.toString()).times(this.nativePrice).times(this.gasPrice).div(String(Math.pow(10,18))).toFixed()||"0",2):"0"},submitSwap:function(){this.$emit("submit")},formatLogo:function(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?e.isETH?this.$f.formatIcon(ce["k"]+"-"+this.chain):this.$f.formatIcon(e.address+"-"+this.chain):e.logoURI},goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.chain,this.swapInfo.transaction,"tx"))},accept:function(){this.priceUpdated=!1}}},de=(i("84f1"),i("6b0d")),ue=i.n(de);const me=ue()(re,[["render",ne],["__scopeId","data-v-5dbb257e"]]);t["a"]=me},a5ca:function(e,t,i){},a6ec:function(e,t,i){"use strict";i("24500")},aeccf:function(e,t,i){e.exports=i.p+"static/img/icon-default.75f6e9a0.png"},afd7:function(e,t,i){e.exports=i.p+"static/img/loading.fdd45987.svg"},b274:function(e,t,i){},b810:function(e,t,i){"use strict";i("b274")},c04b:function(e,t,i){},c240:function(e,t,i){},c2b9:function(e,t,i){},c8da:function(e,t,i){"use strict";i("e82b")},ce94:function(e,t,i){"use strict";var o=i("7a23"),n={key:0,class:"swap-title"},a={key:1,class:"swap-title"},l={key:2,class:"swap-title"},s={key:3,class:"swap-info"},c={key:0,class:"swap-info_item"},r={class:"swap-info_item-label"},d={class:"swap-info_item-value"},u={class:"swap-info_item"},m={class:"swap-info_item-label"},p={class:"swap-info_item-value"},b=["src"],h={class:"ml-5"},f={class:"swap-info_item"},v={class:"swap-info_item-label"},g={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},O={style:{color:"#3F80F7"}},k={class:"swap-info_item"},j={class:"swap-info_item-label"},w={class:"swap-info_item-value"},y=["src"],S={class:"ml-5"},T={class:"swap-info_item"},N={class:"swap-info_item-label"},V={class:"swap-info_item-value"},$=["src"],_={class:"ml-5"},E={class:"swap-info_item"},x={class:"swap-info_item-label"},B={class:"swap-info_item-value",style:{"font-size":"0.24rem"}},C={style:{color:"#3F80F7"}},A={class:"swap-info_item"},I={class:"swap-info_item-label"},D={class:"swap-info_item-value"},L=["src"],P={class:"ml-5"},F={class:"swap-info_item"},U={class:"swap-info_item-label"},M={class:"swap-info_item-value",style:{"text-align":"right"}},R={class:"swap-info_item tips warning"},G={class:"swap-info_item tips warning"},z={key:3,class:"swap-info_item tips warning"},W={key:4,class:"swap-info_item tips warning"},Q={key:4,class:"swap-info"},q={class:"swap-info_item header"},H={class:"header-li"},J={class:"header-li_left"},Y=["src"],K={class:"header-li_right"},X={class:"switch-box"},Z={class:"header-li"},ee={class:"header-li_left"},te=["src"],ie={class:"header-li_right"},oe={class:"swap-info_item"},ne={class:"swap-info_item-label"},ae={class:"swap-info_item-value"},le={class:"swap-info_item"},se={class:"swap-info_item-label"},ce={class:"swap-info_item-value"},re={class:"swap-info_item"},de={class:"swap-info_item-label"},ue={class:"swap-info_item-value"},me={class:"footer"};function pe(e,t,i,pe,be,he){var fe=Object(o["resolveComponent"])("van-icon"),ve=Object(o["resolveComponent"])("van-button"),ge=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createBlock"])(ge,{show:he.dialogVisible,"onUpdate:show":t[1]||(t[1]=function(e){return he.dialogVisible=e}),style:Object(o["normalizeStyle"])({width:"90%",padding:"0.4rem"}),closeable:"",round:"",teleport:"#app"},{default:Object(o["withCtx"])((function(){var pe,ge,Oe,ke,je,we,ye,Se,Te,Ne,Ve,$e,_e,Ee,xe,Be,Ce,Ae,Ie,De,Le,Pe,Fe,Ue,Me,Re,Ge,ze;return[0===i.limitInfo.orderType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("header",n,Object(o["toDisplayString"])(0===i.limitInfo.activeTab?e.$t("limitBuy"):e.$t("limitSell")),1)):Object(o["createCommentVNode"])("",!0),1===i.limitInfo.orderType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("header",a,Object(o["toDisplayString"])(0===i.limitInfo.activeTab?e.$t("stopLimitBuy"):e.$t("stopLimitSell")),1)):Object(o["createCommentVNode"])("",!0),2===i.limitInfo.orderType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("header",l,Object(o["toDisplayString"])(e.$t("tradeConfirm")),1)):Object(o["createCommentVNode"])("",!0),0===i.limitInfo.orderType||1===i.limitInfo.orderType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",s,[1===i.limitInfo.orderType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",c,[Object(o["createElementVNode"])("div",r,Object(o["toDisplayString"])(e.$t("limitEffective")),1),Object(o["createElementVNode"])("div",d,Object(o["toDisplayString"])(e.$t("triggerPriceEffective",{symbol:1===i.limitInfo.activeTab?(null===(pe=i.limitInfo)||void 0===pe||null===(ge=pe.fromToken)||void 0===ge?void 0:ge.symbol)||"":(null===(Oe=i.limitInfo)||void 0===Oe||null===(ke=Oe.toToken)||void 0===ke?void 0:ke.symbol)||"",price:e.$f.formatNumber2((null===(je=i.limitInfo)||void 0===je?void 0:je.triggerPrice)||0)})),1)])):Object(o["createCommentVNode"])("",!0),0===i.limitInfo.activeTab?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[Object(o["createElementVNode"])("li",u,[Object(o["createElementVNode"])("div",m,Object(o["toDisplayString"])(e.$t("limitBuy")),1),Object(o["createElementVNode"])("div",p,[Object(o["createElementVNode"])("img",{class:"icon-token",src:he.formatLogo(i.limitInfo.toToken),alt:"",height:"20"},null,8,b),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.toAmount||0)),1),Object(o["createElementVNode"])("span",h,Object(o["toDisplayString"])((null===(we=i.limitInfo)||void 0===we||null===(ye=we.toToken)||void 0===ye?void 0:ye.symbol)||""),1)])]),Object(o["createElementVNode"])("li",f,[Object(o["createElementVNode"])("div",v,Object(o["toDisplayString"])(e.$t("limitPrice"))+"("+Object(o["toDisplayString"])(1===i.limitInfo.activeTab?(null===(Se=i.limitInfo)||void 0===Se||null===(Te=Se.fromToken)||void 0===Te?void 0:Te.symbol)||"":(null===(Ne=i.limitInfo)||void 0===Ne||null===(Ve=Ne.toToken)||void 0===Ve?void 0:Ve.symbol)||"")+")",1),Object(o["createElementVNode"])("div",g,[Object(o["createElementVNode"])("span",null,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.targetLimitPrice||0)),1),Object(o["createElementVNode"])("span",O,"("+Object(o["toDisplayString"])(e.$t("auto-submitWhenPriceBuy"))+")",1)])]),Object(o["createElementVNode"])("li",k,[Object(o["createElementVNode"])("div",j,Object(o["toDisplayString"])(e.$t("expectedPayment")),1),Object(o["createElementVNode"])("div",w,[Object(o["createElementVNode"])("img",{class:"icon-token",src:he.formatLogo(i.limitInfo.fromToken),alt:"",height:"20"},null,8,y),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.fromAmount||0)),1),Object(o["createElementVNode"])("span",S,Object(o["toDisplayString"])((null===($e=i.limitInfo)||void 0===$e||null===(_e=$e.fromToken)||void 0===_e?void 0:_e.symbol)||""),1)])])],64)):Object(o["createCommentVNode"])("",!0),1===i.limitInfo.activeTab?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:2},[Object(o["createElementVNode"])("li",T,[Object(o["createElementVNode"])("div",N,Object(o["toDisplayString"])(e.$t("limitSell")),1),Object(o["createElementVNode"])("div",V,[Object(o["createElementVNode"])("img",{class:"icon-token",src:he.formatLogo(i.limitInfo.fromToken),alt:"",height:"20"},null,8,$),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.fromAmount||0)),1),Object(o["createElementVNode"])("span",_,Object(o["toDisplayString"])((null===(Ee=i.limitInfo)||void 0===Ee||null===(xe=Ee.fromToken)||void 0===xe?void 0:xe.symbol)||""),1)])]),Object(o["createElementVNode"])("li",E,[Object(o["createElementVNode"])("div",x,Object(o["toDisplayString"])(e.$t("limitPrice"))+"("+Object(o["toDisplayString"])(1===i.limitInfo.activeTab?(null===(Be=i.limitInfo)||void 0===Be||null===(Ce=Be.fromToken)||void 0===Ce?void 0:Ce.symbol)||"":(null===(Ae=i.limitInfo)||void 0===Ae||null===(Ie=Ae.toToken)||void 0===Ie?void 0:Ie.symbol)||"")+")",1),Object(o["createElementVNode"])("div",B,[Object(o["createElementVNode"])("span",null,"$"+Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.targetLimitPrice||0)),1),Object(o["createElementVNode"])("span",C,"("+Object(o["toDisplayString"])(e.$t("auto-submitWhenPriceSell"))+")",1)])]),Object(o["createElementVNode"])("li",A,[Object(o["createElementVNode"])("div",I,Object(o["toDisplayString"])(e.$t("expectedReceivable")),1),Object(o["createElementVNode"])("div",D,[Object(o["createElementVNode"])("img",{class:"icon-token",src:he.formatLogo(i.limitInfo.toToken),alt:"",height:"20"},null,8,L),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.toAmount||0)),1),Object(o["createElementVNode"])("span",P,Object(o["toDisplayString"])((null===(De=i.limitInfo)||void 0===De||null===(Le=De.toToken)||void 0===Le?void 0:Le.symbol)||""),1)])])],64)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("li",F,[Object(o["createElementVNode"])("div",U,Object(o["toDisplayString"])(e.$t("estimateGas")),1),Object(o["createElementVNode"])("div",M,Object(o["toDisplayString"])(e.$t("estimateGasTips",{n:e.$f.formatNumber2(null!==(Pe=i.limitGasU)&&void 0!==Pe?Pe:1,1)})),1)]),Object(o["createElementVNode"])("li",R,"* "+Object(o["toDisplayString"])(e.$t("limitFeeTip")),1),Object(o["createElementVNode"])("li",G,"* "+Object(o["toDisplayString"])(e.$t("limitTokenTips")),1),(null===(Fe=i.limitInfo)||void 0===Fe||null===(Ue=Fe.fromToken)||void 0===Ue?void 0:Ue.address)===be.NATIVE_TOKEN?(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",z,Object(o["toDisplayString"])(e.$t("limitTips1")),1)):(Object(o["openBlock"])(),Object(o["createElementBlock"])("li",W,Object(o["toDisplayString"])(e.$t("limitTips2")),1))])):2===i.limitInfo.orderType?(Object(o["openBlock"])(),Object(o["createElementBlock"])("ul",Q,[Object(o["createElementVNode"])("li",q,[Object(o["createElementVNode"])("div",H,[Object(o["createElementVNode"])("div",J,[Object(o["createElementVNode"])("img",{class:"icon-token",src:he.formatLogo(i.limitInfo.fromToken),alt:"",height:"20"},null,8,Y),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(i.limitInfo.fromToken.symbol),1)]),Object(o["createElementVNode"])("div",K,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.fromAmount||0)||"0"),1)]),Object(o["createElementVNode"])("div",X,[Object(o["createVNode"])(fe,{class:"switch-icon",name:"down"})]),Object(o["createElementVNode"])("div",Z,[Object(o["createElementVNode"])("div",ee,[Object(o["createElementVNode"])("img",{class:"icon-token",src:he.formatLogo(i.limitInfo.toToken),alt:"",height:"20"},null,8,te),Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(i.limitInfo.toToken.symbol),1)]),Object(o["createElementVNode"])("div",ie,Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitInfo.toAmount||0)||"0"),1)])]),Object(o["createElementVNode"])("li",oe,[Object(o["createElementVNode"])("div",ne,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("div",ae,Object(o["toDisplayString"])(null===(Me=i.limitInfo)||void 0===Me?void 0:Me.slippage)+"%",1)]),Object(o["createElementVNode"])("li",le,[Object(o["createElementVNode"])("div",se,Object(o["toDisplayString"])(e.$t("estimatedGas")),1),Object(o["createElementVNode"])("div",ce,[Object(o["createElementVNode"])("span",null,"≈ $"+Object(o["toDisplayString"])(e.$f.formatNumber2(i.limitGasU||"0")),1),Object(o["createElementVNode"])("button",{type:"button",class:"clickable flex items-center tag-question",onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(t){var o,n;return e.$dialog.alert({title:e.$t("tips"),message:e.$t("noGasTips",{s:(null===(o=i.limitInfo)||void 0===o||null===(n=o.fromToken)||void 0===n?void 0:n.symbol)||""}),confirmButtonText:e.$t("iKnown"),confirmButtonColor:"#3F80F7",messageAlign:"center"})}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("noGas")),1),Object(o["createVNode"])(fe,{name:"question-o"})])])]),Object(o["createElementVNode"])("li",re,[Object(o["createElementVNode"])("div",de,Object(o["toDisplayString"])(e.$t("minimumReceived")),1),Object(o["createElementVNode"])("div",ue,Object(o["toDisplayString"])(e.$f.formatNumber2((null===(Re=i.limitInfo)||void 0===Re?void 0:Re.minReturn)||0))+" "+Object(o["toDisplayString"])(null===(Ge=i.limitInfo)||void 0===Ge||null===(ze=Ge.toToken)||void 0===ze?void 0:ze.symbol),1)])])):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("div",me,[Object(o["createVNode"])(ve,{class:"submit-button",type:"primary",loading:he.isLoading,"loading-text":e.$t("confirming"),block:"",round:"",onClick:Object(o["withModifiers"])(he.submitSwap,["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["loading","loading-text","onClick"])])]})),_:1},8,["show","style"])}i("a9e3"),i("b680"),i("caad"),i("2532");var be=i("901e"),he=i.n(be),fe=i("6779"),ve=i("c9d9"),ge={name:"ConfirmLimit",props:{visible:Boolean,limitInfo:Object,loading:Boolean,chain:String,limitGasU:String},emits:["update:visible","submit"],data:function(){return{NATIVE_TOKEN:ve["k"],limitContractsFee:ve["v"]}},computed:{dialogVisible:{get:function(){return this.visible},set:function(e){this.$emit("update:visible",e)}},isLoading:function(){return this.loading}},watch:{visible:function(e){var t,i,o;console.log("isRefreshEnable",e),null===(t=window)||void 0===t||null===(i=t._tw_)||void 0===i||null===(o=i.isRefreshEnable)||void 0===o||o.call(i,"bridge",!e)}},methods:{formatUnits:fe["utils"].formatUnits,getPrice:function(e,t){return!e||!t||isNaN(Number(e))||isNaN(Number(t))?"0":this.$f.formatNumber2(new he.a(t).div(e).toFixed())||"0"},submitSwap:function(){this.$emit("submit")},formatLogo:function(e){var t;return!e.logoURI||null!==e&&void 0!==e&&null!==(t=e.logoURI)&&void 0!==t&&t.includes("empty-token")?this.$f.formatIcon(e.address+"-"+this.chain):e.logoURI},goLink:function(){this.$f.openBrowser(this.$f.formatExplorerUrl(this.chain,this.limitInfo.transaction,"tx"))}}},Oe=(i("193a"),i("6b0d")),ke=i.n(Oe);const je=ke()(ge,[["render",pe],["__scopeId","data-v-a061cea6"]]);t["a"]=je},cf1a:function(e,t,i){"use strict";var o=i("7a23"),n={class:"chart-container"},a=["id"];function l(e,t,i,l,s,c){return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",n,[Object(o["createElementVNode"])("div",{id:s.chartId,style:Object(o["normalizeStyle"])({height:"1.45rem",width:"100%"})},null,12,a)])}i("d81d");var s=i("22b4"),c=i("1be7"),r=i("3620"),d=i("2da7"),u=i("4b2a"),m=i("5e81"),p=i("e600"),b=i("ee29"),h=i("c55a"),f=i("f95e"),v=i("ec26");s["a"]([d["a"],u["a"],m["a"],p["a"],r["a"],b["a"],h["a"],f["a"]]);var g={name:"PriceChart",props:{dataX:Array,dataY:Array},data:function(){return{chartId:"chart-".concat(Object(v["a"])()),myChart:null,loading:!1}},watch:{dataY:function(){this.init()}},mounted:function(){this.init()},methods:{init:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.dataX,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.dataY,o=t.map((function(t){return e.$f.formatDate(t,"MM-DD HH:mm")}));if(document.getElementById(this.chartId)){var n=c["b"](document.getElementById(this.chartId));n||(n=c["c"](document.getElementById(this.chartId)));var a={tooltip:{trigger:"axis",appendToBody:!0},grid:{left:"0",right:"0",top:"5%",bottom:"3%",containLabel:!0},xAxis:{data:o,axisLine:{show:!1,lineStyle:{color:"#23293C"}},axisLabel:{show:!1,color:"#777"},axisTick:{show:!1},nameTextStyle:{fontSize:12}},yAxis:{type:"value",name:"",nameTextStyle:{fontSize:14},axisLine:{show:!1},axisTick:{show:!1},axisLabel:{show:!1},splitLine:{show:!1,lineStyle:{type:"solid",color:["#FF646D"]}}},series:[{name:"",type:"line",data:i,smooth:!0,symbolSize:3,areaStyle:{color:"#558BED",opacity:.2},itemStyle:{color:"#558BED",lineStyle:{color:"#558BED"}},tooltip:{valueFormatter:function(t){return e.$f.formatNumberCurrencyUnit(t||0,3,4)}}}]};n.setOption(a)}}}},O=(i("f5f1"),i("6b0d")),k=i.n(O);const j=k()(g,[["render",l],["__scopeId","data-v-41576853"]]);t["a"]=j},e524:function(e,t,i){e.exports=i.p+"static/img/arrow-right.484eb652.svg"},e82b:function(e,t,i){},eb18:function(e,t,i){"use strict";i("c2b9")},f5f1:function(e,t,i){"use strict";i("284e")},f898:function(e,t,i){},fadf:function(e,t,i){"use strict";i("b0c0"),i("99af"),i("fb6a");var o=i("7a23"),n=function(e){return Object(o["pushScopeId"])("data-v-a962d930"),e=e(),Object(o["popScopeId"])(),e},a={class:"select-box"},l={class:"flex items-center"},s={key:0,class:"color-999"},c=Object(o["createTextVNode"])("("),r=Object(o["createTextVNode"])(")"),d=n((function(){return Object(o["createElementVNode"])("span",{class:"mr-5 ml-5"},"|",-1)})),u={style:{"margin-right":"0.1rem"}},m=n((function(){return Object(o["createElementVNode"])("span",{class:"mr-5 ml-5"},"|",-1)})),p={class:"mr-5"},b={style:{background:"#fff",padding:"0 0.3rem 1rem 0.3rem","--van-cell-background-color":"transparent"}},h={class:"setting-title"},f={class:"slippage-setting"},v=Object(o["createTextVNode"])("%"),g={key:0,class:"class-b-s"},O={class:"setting-title flex items-center justify-between"},k={class:"mr-5"},j=Object(o["createTextVNode"])("NEW"),w=n((function(){return Object(o["createElementVNode"])("span",{style:{flex:"1"}},null,-1)})),y={class:"flex items-center justify-between text-size-14 mt-15"},S={style:{"max-width":"65%"}},T={key:0,class:"flex items-center justify-between clickable",style:{padding:"0",color:"#BFBFBF"}},N={class:"setting-title mb-0"},V={class:"inline-flex items-center"},$={class:"mr-5"},_={key:0,class:"icon-svg",style:{"font-size":"0.46rem"},"aria-hidden":"true"},E=n((function(){return Object(o["createElementVNode"])("use",{"xlink:href":"#icon-HOT"},null,-1)})),x=[E],B={class:"popup-title"},C={class:"form-submit mt-10"};function A(e,t,i,n,E,A){var I,D,L=Object(o["resolveComponent"])("van-field"),P=Object(o["resolveComponent"])("van-tag"),F=Object(o["resolveComponent"])("van-switch"),U=Object(o["resolveComponent"])("van-icon"),M=Object(o["resolveComponent"])("van-divider"),R=Object(o["resolveComponent"])("van-radio"),G=Object(o["resolveComponent"])("van-cell"),z=Object(o["resolveComponent"])("van-radio-group"),W=Object(o["resolveComponent"])("van-button"),Q=Object(o["resolveComponent"])("van-action-sheet"),q=Object(o["resolveComponent"])("van-checkbox"),H=Object(o["resolveComponent"])("van-checkbox-group"),J=Object(o["resolveComponent"])("van-empty"),Y=Object(o["resolveComponent"])("van-form"),K=Object(o["resolveComponent"])("van-popup");return Object(o["openBlock"])(),Object(o["createElementBlock"])("div",a,[Object(o["createElementVNode"])("div",l,[A.isSwapMode?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:0},[Object(o["createElementVNode"])("span",{style:Object(o["normalizeStyle"])([{"text-align":"right"},{color:"protect"===i.swapMode?"#F81111":"",fontWeight:"protect"===i.swapMode?"500":"normal"}])},Object(o["toDisplayString"])(A.swapModeName),5),A.autoName?(Object(o["openBlock"])(),Object(o["createElementBlock"])("span",s,[c,Object(o["createElementVNode"])("span",{style:Object(o["normalizeStyle"])({color:"protect"===i.autoSwapMode?"#F81111":"",fontWeight:"protect"===i.autoSwapMode?"500":"normal"})},Object(o["toDisplayString"])(A.autoName),5),r])):Object(o["createCommentVNode"])("",!0),d],64)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("span",u,Object(o["toDisplayString"])("auto"===i.slippage?e.$t("autoSlippage"):e.$t("manualSlippage"))+"("+Object(o["toDisplayString"])("auto"===i.slippage?i.autoSlippage:i.slippage)+"%)",1),E.isCanBatchSwap&&(null===(I=A.selectSubWallets)||void 0===I?void 0:I.length)>0?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[m,Object(o["createElementVNode"])("span",p,Object(o["toDisplayString"])((null===(D=A.selectSubWallets)||void 0===D?void 0:D.length)||0)+" "+Object(o["toDisplayString"])(e.$t("subWallets")),1)],64)):Object(o["createCommentVNode"])("",!0),Object(o["createElementVNode"])("i",{class:"iconfont icon-settings",style:{color:"#999999"},onClick:t[0]||(t[0]=Object(o["withModifiers"])((function(e){return E.show=!0}),["stop"]))})]),Object(o["createVNode"])(Q,{show:E.show,"onUpdate:show":t[9]||(t[9]=function(e){return E.show=e}),title:e.$t("swapSet"),style:{"--van-popup-background-color":"#fff","min-height":"40%"}},{default:Object(o["withCtx"])((function(){var i,n;return[Object(o["createElementVNode"])("div",b,[Object(o["createElementVNode"])("div",h,Object(o["toDisplayString"])(e.$t("slippage")),1),Object(o["createElementVNode"])("div",f,[Object(o["createElementVNode"])("button",{type:"button",class:Object(o["normalizeClass"])({active:"0.5"===E.slippageValue}),onClick:t[1]||(t[1]=function(e){return E.slippageValue="0.5"})},"0.5%",2),Object(o["createElementVNode"])("button",{type:"button",class:Object(o["normalizeClass"])({active:"1"===E.slippageValue}),onClick:t[2]||(t[2]=function(e){return E.slippageValue="1"})},"1%",2),Object(o["createElementVNode"])("button",{type:"button",class:Object(o["normalizeClass"])({active:void 0===E.slippageValue}),onClick:t[3]||(t[3]=function(e){return E.slippageValue=void 0})},Object(o["toDisplayString"])(e.$t("smartSetting")),3),Object(o["createVNode"])(L,{class:"input",name:"slippage",type:"number",min:"0",max:"49.99",placeholder:e.$t("custom"),modelValue:E.slippageValue,"onUpdate:modelValue":t[4]||(t[4]=function(e){return E.slippageValue=e}),onBlur:A.handleBlur,clearable:""},{"right-icon":Object(o["withCtx"])((function(){return[v]})),_:1},8,["placeholder","modelValue","onBlur"])]),E.isCanBatchSwap?(Object(o["openBlock"])(),Object(o["createElementBlock"])("div",g,[Object(o["createElementVNode"])("div",O,[Object(o["createElementVNode"])("span",k,Object(o["toDisplayString"])(e.$t("batchSwap")),1),Object(o["createVNode"])(P,{type:"danger",color:"#eb5139"},{default:Object(o["withCtx"])((function(){return[j]})),_:1}),w,Object(o["createVNode"])(F,{modelValue:E.isBatchSwap,"onUpdate:modelValue":t[5]||(t[5]=function(e){return E.isBatchSwap=e}),size:"0.32rem","inactive-color":"#BFBFBF"},null,8,["modelValue"])]),Object(o["createElementVNode"])("div",y,[Object(o["createElementVNode"])("span",S,Object(o["toDisplayString"])(e.$t("selectAddressCanSwapSameTime")),1),E.isBatchSwap?0===(null===(i=A.selectSubWallets)||void 0===i?void 0:i.length)?(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:1,onClick:t[6]||(t[6]=Object(o["withModifiers"])((function(e){return E.selectSubWalletVisible=!0}),["stop"])),class:"flex items-center justify-between clickable",style:{padding:"0",color:"#F6465D"}},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("plsSelectAddress")),1),Object(o["createVNode"])(U,{name:"arrow"})])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",{key:2,class:"flex items-center justify-between clickable text-right",style:{padding:"0",color:"#3F80F7"},onClick:t[7]||(t[7]=Object(o["withModifiers"])((function(e){return E.selectSubWalletVisible=!0}),["stop"]))},[Object(o["createElementVNode"])("span",null,Object(o["toDisplayString"])(e.$t("selectedAddress",{n:null===(n=A.selectSubWallets)||void 0===n?void 0:n.length})),1),Object(o["createVNode"])(U,{name:"arrow"})])):(Object(o["openBlock"])(),Object(o["createElementBlock"])("button",T,[Object(o["createVNode"])(U,{name:"arrow"})]))])])):Object(o["createCommentVNode"])("",!0),A.isSwapMode?(Object(o["openBlock"])(),Object(o["createElementBlock"])(o["Fragment"],{key:1},[E.isCanBatchSwap?Object(o["createCommentVNode"])("",!0):(Object(o["openBlock"])(),Object(o["createBlock"])(M,{key:0,style:{margin:"0.4rem 0"}})),Object(o["createElementVNode"])("div",N,Object(o["toDisplayString"])(e.$t("swapMode")),1),Object(o["createVNode"])(z,{modelValue:E.swapModeValue,"onUpdate:modelValue":t[8]||(t[8]=function(e){return E.swapModeValue=e}),style:{"--van-cell-label-margin-top":"0"}},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(A.typeSwapMode,(function(e){return Object(o["openBlock"])(),Object(o["createBlock"])(G,{key:e.value,border:!1,clickable:"",onClick:function(t){return E.swapModeValue=e.value},style:{padding:"0.16rem 0"}},{title:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("div",V,[Object(o["createElementVNode"])("i",{class:Object(o["normalizeClass"])("iconfont icon-".concat(e.icon))},null,2),Object(o["createElementVNode"])("span",$,Object(o["toDisplayString"])(e.name),1),"auto"===e.value?(Object(o["openBlock"])(),Object(o["createElementBlock"])("svg",_,x)):Object(o["createCommentVNode"])("",!0)])]})),label:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.label),1)]})),"right-icon":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(R,{"icon-size":"0.3rem",name:e.value},null,8,["name"])]})),_:2},1032,["onClick"])})),128))]})),_:1},8,["modelValue"])],64)):Object(o["createCommentVNode"])("",!0),Object(o["createVNode"])(W,{block:"",type:"primary","native-type":"button",color:"#3F80F7",class:"submit-btn",style:Object(o["normalizeStyle"])({marginTop:A.isSwapMode?"0.5rem":"1.5rem"}),onClick:Object(o["withModifiers"])(A.submitSwapSet,["stop"])},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm")),1)]})),_:1},8,["style","onClick"])])]})),_:1},8,["show","title"]),Object(o["createVNode"])(K,{show:E.selectSubWalletVisible,"onUpdate:show":t[12]||(t[12]=function(e){return E.selectSubWalletVisible=e}),class:"popup-container",closeable:!0,"close-on-click-overlay":!1,"close-on-popstate":!1,round:"",position:"center",teleport:"#app",style:{width:"90%","min-height":"20vh"}},{default:Object(o["withCtx"])((function(){return[Object(o["createElementVNode"])("h3",B,Object(o["toDisplayString"])(e.$t("selectSubWallet")),1),Object(o["createVNode"])(Y,{class:"popup-content",onSubmit:A.confirmSubmitSelectSubWallet},{default:Object(o["withCtx"])((function(){var i;return[A.subWallets&&(null===(i=A.subWallets)||void 0===i?void 0:i.length)>0?(Object(o["openBlock"])(),Object(o["createBlock"])(H,{key:0,modelValue:E.subWalletChecked,"onUpdate:modelValue":t[11]||(t[11]=function(e){return E.subWalletChecked=e}),style:{"max-height":"50vh","min-height":"30vh","--van-cell-horizontal-padding":"0.1rem","--van-cell-background-color":"transparent","overflow-y":"auto"}},{default:Object(o["withCtx"])((function(){return[(Object(o["openBlock"])(!0),Object(o["createElementBlock"])(o["Fragment"],null,Object(o["renderList"])(A.subWallets,(function(e,i){var n,a,l,s;return Object(o["openBlock"])(),Object(o["createBlock"])(G,{clickable:"",key:e,border:!1,title:"".concat(e.name,"(").concat(null===e||void 0===e||null===(n=e.address)||void 0===n||null===(a=n.slice)||void 0===a?void 0:a.call(n,0,4),"...").concat(null===e||void 0===e||null===(l=e.address)||void 0===l||null===(s=l.slice)||void 0===s?void 0:s.call(l,-4),")"),onClick:function(e){return A.toggle(i)}},{"right-icon":Object(o["withCtx"])((function(){return[Object(o["createVNode"])(q,{name:e.address,ref_for:!0,ref:"checkbox-".concat(i),onClick:t[10]||(t[10]=Object(o["withModifiers"])((function(){}),["stop"]))},null,8,["name"])]})),_:2},1032,["title","onClick"])})),128))]})),_:1},8,["modelValue"])):(Object(o["openBlock"])(),Object(o["createBlock"])(J,{key:1,style:{"--van-empty-padding":"0.1rem 0 0.5rem 0","--van-empty-description-color":"#888"},description:e.$t("noWallets")},null,8,["description"])),Object(o["createElementVNode"])("div",C,[Object(o["createVNode"])(W,{class:"btn",style:{"border-radius":"0.08rem"},block:"","native-type":"submit",size:"normal",type:"primary"},{default:Object(o["withCtx"])((function(){return[Object(o["createTextVNode"])(Object(o["toDisplayString"])(e.$t("confirm1")),1)]})),_:1})])]})),_:1},8,["onSubmit"])]})),_:1},8,["show"])])}i("7db0"),i("d3b7"),i("caad"),i("2532"),i("ac1f"),i("5319"),i("d81d"),i("a9e3"),i("4de4");var I=i("2c28"),D=i("ddc3"),L={name:"SwapSelectMode",props:{autoSwapMode:String,swapMode:String,slippage:{type:String,default:"2"},autoSlippage:String},emits:["update:swapMode","update:slippage"],setup:function(){var e=Object(I["useStorage"])("batchSwapClicked",!1,localStorage);return{batchSwapClicked:e}},data:function(){var e,t,i;return{show:!1,slippageValue:"auto"===this.slippage?void 0:this.slippage,swapModeValue:this.swapMode,isBatchSwap:(null===(e=this.$store.state)||void 0===e?void 0:e.isBatchSwap)||!1,addressList:[],selectSubWalletVisible:!1,subWalletChecked:[],isCanBatchSwap:!(null===(t=window)||void 0===t||null===(i=t._tw_)||void 0===i||!i.appSelectSubWallet)||!1}},computed:{typeSwapMode:function(){return[{name:this.$t("fastMode"),value:"fast",label:this.$t("fastLabel"),icon:"jisu",symbol:this.$t("fast")},{name:this.$t("semi-privateMode"),value:"private",label:this.$t("semi-privateLabel"),icon:"banyinsi",symbol:this.$t("semi-Private")},{name:this.$t("privacy"),value:"protect",label:this.$t("protectLabel"),icon:"yinsi",symbol:this.$t("protect")},{name:this.$t("smartMode"),value:"auto",label:this.$t("smartLabel"),icon:"zhineng"}]},swapModeName:function(){var e,t=this;return null===(e=this.typeSwapMode.find((function(e){return e.value===t.swapMode})))||void 0===e?void 0:e.name},autoName:function(){var e=this;if("auto"===this.swapMode){var t,i=null===(t=this.typeSwapMode.find((function(t){return t.value===e.autoSwapMode})))||void 0===t?void 0:t.symbol;return"".concat(i)}return""},isSwapMode:function(){var e,t,i,o,n,a,l,s,c,r,d=window.navigator.userAgent;if(d.includes("OSType/2")){var u,m,p=d.replace(/^.*Ave.ai\/(.*) OSType\/2;$/,"$1"),b=D.gte(p,"2.3.0");return(null===(u=(m=["eth","bsc"]).includes)||void 0===u?void 0:u.call(m,this.$store.getters.netId))&&b}var h=null===(e=(null===(i=window)||void 0===i?void 0:i.main)||(null===(o=window)||void 0===o?void 0:o._tw_)||{})||void 0===e||null===(t=e.appGetPlatform)||void 0===t?void 0:t.call(e),f=null===(n=(null===(l=window)||void 0===l?void 0:l.main)||(null===(s=window)||void 0===s?void 0:s._tw_)||{})||void 0===n||null===(a=n.getAppVersionCode)||void 0===a?void 0:a.call(n),v="android"===h&&f>112;return(null===(c=(r=["eth","bsc"]).includes)||void 0===c?void 0:c.call(r,this.$store.getters.netId))&&v},subWallets:function(){return this.$store.state.subWallets||[]},selectSubWallets:function(){return this.$store.getters.selectSubWallets||[]}},watch:{show:function(e){var t,i,o,n;e&&(this.slippageValue="auto"===this.slippage?void 0:this.slippage,this.isBatchSwap=(null===(n=this.$store.state)||void 0===n?void 0:n.isBatchSwap)||!1,console.log("subWallets",this.subWallets));console.log("isRefreshEnable",!e),null===(t=window)||void 0===t||null===(i=t._tw_)||void 0===i||null===(o=i.isRefreshEnable)||void 0===o||o.call(i,"bridge",!e)},selectSubWalletVisible:function(e){e&&(this.subWalletChecked=this.selectSubWallets.map((function(e){return e.address})))}},methods:{handleBlur:function(){"auto"!==this.slippageValue&&(this.show&&Number(this.slippageValue)<0&&(this.slippageValue="0"),this.show&&Number(this.slippageValue)>49.99&&(this.slippageValue="49.99"))},submitSwapSet:function(){this.$emit("update:swapMode",this.swapModeValue),localStorage.swapMode=this.swapModeValue,void 0===this.slippageValue?(this.$emit("update:slippage","auto"),localStorage.swapSlippage="auto"):(this.$emit("update:slippage",this.slippageValue),localStorage.swapSlippage=this.slippageValue),this.$store.state.isBatchSwap=this.isBatchSwap,this.isBatchSwap||this.$store.commit("setSelectSubWallets",[]),this.show=!1},confirmSubmitSelectSubWallet:function(){var e,t,i=this;console.log("confirmSubmitSelectSubWallet----");var o=null===(e=this.subWallets)||void 0===e||null===(t=e.filter)||void 0===t?void 0:t.call(e,(function(e){return i.subWalletChecked.includes(e.address)}));console.log(o),this.$store.commit("setSelectSubWallets",o),this.selectSubWalletVisible=!1},toggle:function(e){var t,i,o;null===(t=this.$refs["checkbox-".concat(e)])||void 0===t||null===(i=t[0])||void 0===i||null===(o=i.toggle)||void 0===o||o.call(i)}}},P=(i("a6ec"),i("6b0d")),F=i.n(P);const U=F()(L,[["render",A],["__scopeId","data-v-a962d930"]]);t["a"]=U}}]);